<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تعلم الحروف العربية - Learn Arabic Letters</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
            overflow-x: hidden;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -webkit-overflow-scrolling: touch;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .child-photo-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            padding: 10px;
        }

        .child-photo {
            width: 180px;
            height: 180px;
            border-radius: 15px;
            object-fit: cover;
            border: 6px solid white;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            animation: photoGlow 3s infinite;
        }

        @keyframes photoGlow {
            0%, 100% {
                box-shadow: 0 8px 20px rgba(0,0,0,0.3), 0 0 20px rgba(255,255,255,0.5);
            }
            50% {
                box-shadow: 0 8px 30px rgba(0,0,0,0.4), 0 0 40px rgba(255,215,0,0.6);
            }
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            animation: bounce 2s infinite;
        }

        .header p {
            font-size: 1.5em;
        }

        /* Main Menu Screen */
        .main-menu-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            animation: gradientShift 10s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .menu-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .game-title {
            font-size: 4em;
            color: white;
            text-shadow: 
                4px 4px 0 rgba(0,0,0,0.2),
                0 0 30px rgba(255,255,255,0.5);
            margin-bottom: 10px;
            animation: titleBounce 2s ease-in-out infinite;
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .game-subtitle {
            font-size: 2em;
            color: #ffe6f0;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-categories {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .category-card {
            background: white;
            border-radius: 30px;
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.2),
                0 0 0 5px rgba(255,255,255,0.1);
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .category-card:hover::before {
            left: 100%;
        }

        .category-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.3),
                0 0 0 8px rgba(255,255,255,0.2);
        }

        .category-card:active {
            transform: translateY(-10px) scale(1.02);
        }

        .special-card {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
        }

        .special-card .card-title,
        .special-card .card-subtitle,
        .special-card .card-info {
            color: white;
        }

        .card-icon {
            font-size: 5em;
            margin-bottom: 20px;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }

        .card-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .card-subtitle {
            font-size: 1.2em;
            color: #764ba2;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .card-info {
            display: inline-block;
            background: linear-gradient(135deg, #FFE53B 0%, #FF2525 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 1em;
            font-weight: bold;
            margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .play-badge {
            display: inline-block;
            background: linear-gradient(135deg, #4CAF50 0%, #2e7d32 100%);
            color: white;
            padding: 12px 40px;
            border-radius: 25px;
            font-size: 1.3em;
            font-weight: bold;
            box-shadow: 0 6px 15px rgba(76,175,80,0.4);
            transition: all 0.3s ease;
        }

        .category-card:hover .play-badge {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(76,175,80,0.6);
        }

        .play-badge.special {
            background: linear-gradient(135deg, #ff6b6b 0%, #c92a2a 100%);
            box-shadow: 0 6px 15px rgba(255,107,107,0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Back to Menu Button */
        .back-to-menu {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            display: none;
        }

        .back-to-menu:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .back-to-menu.visible {
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            padding: 20px;
        }

        .card {
            perspective: 1000px;
            height: 250px;
            cursor: pointer;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            padding: 20px;
        }

        .card-front {
            background: linear-gradient(135deg, #FFE53B 0%, #FF2525 100%);
            border: 5px solid white;
        }

        .card-back {
            background: linear-gradient(135deg, #21D4FD 0%, #B721FF 100%);
            transform: rotateY(180deg);
            border: 5px solid white;
        }

        .letter {
            font-size: 7em;
            font-weight: bold;
            color: white;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .letter-name {
            font-size: 1.8em;
            color: white;
            font-weight: bold;
            background: rgba(0,0,0,0.2);
            padding: 8px 16px;
            border-radius: 10px;
        }

        .animal-emoji {
            font-size: 5em;
            margin-bottom: 15px;
            animation: wiggle 1s ease-in-out infinite;
        }

        .animal-name {
            font-size: 1.8em;
            color: white;
            font-weight: bold;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hint {
            position: absolute;
            bottom: 10px;
            font-size: 0.9em;
            color: rgba(255,255,255,0.8);
            animation: pulse 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .child-photo {
                width: 140px;
                height: 140px;
                border: 5px solid white;
                border-radius: 12px;
            }
            
            .header h1 {
                font-size: 1.8em;
                padding: 10px;
            }
            
            .header p {
                font-size: 1em;
                padding: 5px;
            }
            
            .game-title {
                font-size: 3em;
            }

            .game-subtitle {
                font-size: 1.5em;
            }

            .game-categories {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }

            .category-card {
                padding: 30px 20px;
            }

            .card-icon {
                font-size: 4em;
            }

            .card-title {
                font-size: 1.5em;
            }

            .back-to-menu {
                font-size: 1em;
                padding: 12px 20px;
            }
            }
            
            
            .container {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 12px;
                padding: 15px;
            }
            
            .card {
                height: 180px;
            }
            
            .letter {
                font-size: 4.5em;
            }
            
            .letter-name {
                font-size: 1.5em;
            }
            
            .hint {
                font-size: 0.9em;
            }
            
            .animal-emoji {
                font-size: 3em;
            }
            
            .animal-name {
                font-size: 1.2em;
            }

            .lunch-game-content h2 {
                font-size: 2.2em;
            }

            .lunch-instructions {
                font-size: 1.2em;
            }

            .lunch-box-slots {
                grid-template-columns: repeat(2, 1fr);
            }

            .compartments {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .compartment {
                min-height: 150px;
            }

            .check-lunch-btn, .reset-lunch-btn, .close-lunch-btn {
                font-size: 1.35em;
                padding: 15px 28px;
                flex: 0 1 auto;
                max-width: 220px;
            }

            .lunchbox-buttons {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 12px;
                justify-content: center;
                padding: 12px;
            }

            .lunchbox-body {
                padding: 30px 25px 35px 25px;
            }

            .open-lunchbox-btn {
                font-size: 1.6em;
                padding: 15px 40px;
            }

            .shelf-items {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }

            .food-emoji {
                font-size: 2.5em;
            }

            .teeth-warning {
                padding: 25px;
                max-width: 90%;
            }

            .tooth {
                width: 28px;
                height: 38px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 8px;
                font-size: 14px;
            }
            
            .child-photo {
                width: 120px;
                height: 120px;
                border: 4px solid white;
                border-radius: 10px;
            }
            
            .header h1 {
                font-size: 1.5em;
                padding: 8px;
            }
            
            .header p {
                font-size: 0.9em;
            }
            
            .game-title {
                font-size: 2.2em;
            }

            .game-subtitle {
                font-size: 1.2em;
            }

            .game-categories {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 10px;
            }

            .category-card {
                padding: 25px 20px;
            }

            .card-icon {
                font-size: 3.5em;
            }

            .card-title {
                font-size: 1.3em;
            }

            .card-subtitle {
                font-size: 1em;
            }

            .back-to-menu {
                font-size: 0.9em;
                padding: 10px 15px;
                top: 10px;
                left: 10px;
            }
            
            .container {
                grid-template-columns: 1fr;
                gap: 15px;
                padding: 10px;
            }
            
            .card {
                height: 200px;
                max-width: 100%;
            }
            
            .letter {
                font-size: 5em;
            }
            
            .letter-name {
                font-size: 1.6em;
            }
            
            .hint {
                font-size: 1em;
            }
            
            .animal-emoji {
                font-size: 3.5em;
            }
            
            .animal-name {
                font-size: 1.3em;
            }

            .lunch-game-content h2 {
                font-size: 1.8em;
            }

            .lunch-instructions {
                font-size: 1em;
            }

            .lunch-box-slots {
                grid-template-columns: 1fr;
            }

            .compartments {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .compartment {
                min-height: 130px;
            }

            .compartment-label {
                font-size: 1.1em;
            }

            .compartment-content {
                font-size: 3em;
            }

            .check-lunch-btn, .reset-lunch-btn, .close-lunch-btn {
                font-size: 1.3em;
                padding: 14px 25px;
                width: 100%;
                max-width: 100%;
                flex: 0 1 100%;
            }

            .lunchbox-buttons {
                flex-direction: column;
                gap: 12px;
                padding: 15px;
            }

            .lunchbox-body {
                padding: 25px 20px 30px 20px;
                min-height: auto;
            }

            .open-lunchbox-btn {
                font-size: 1.4em;
                padding: 12px 30px;
                bottom: 20px;
            }

            .realistic-lunchbox {
                width: 100%;
                padding: 10px;
            }

            .close-lunchbox-btn {
                top: 5px;
                right: 5px;
                font-size: 1.5em;
                padding: 15px 30px;
            }

            .shelf-items {
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }

            .food-emoji {
                font-size: 2em;
            }

            .teeth-warning {
                padding: 20px;
            }

            .teeth-warning h2 {
                font-size: 1.8em;
            }

            .tooth {
                width: 22px;
                height: 30px;
            }

            .check-lunch-btn, .reset-lunch-btn {
                font-size: 1.2em;
                padding: 12px 30px;
            }
        }

        /* Paint by Numbers Styles */
        .numbers-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .paint-game {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .game-header h2 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .game-header p {
            color: #666;
            font-size: 1.2em;
        }

        /* Picture Selection Styles */
        .picture-selection {
            margin-bottom: 30px;
        }

        .picture-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .picture-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .picture-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .picture-preview {
            font-size: 5em;
            margin-bottom: 15px;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }

        .picture-card p {
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0;
        }

        /* Painting Area Styles */
        .painting-area {
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .painting-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .painting-header h3 {
            color: #667eea;
            font-size: 2em;
            margin: 0;
        }

        .small-btn {
            background: #999;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1em;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .small-btn:hover {
            background: #777;
            transform: scale(1.05);
        }

        .color-palette {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            padding: 15px;
            background: rgba(255,255,255,0.5);
            border-radius: 15px;
        }

        .palette-color {
            width: 50px;
            height: 50px;
            border: 3px solid #333;
            border-radius: 10px;
            font-size: 1.3em;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            position: relative;
        }

        .palette-color:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .palette-color.selected {
            border: 4px solid #FFD700;
            border-radius: 15px;
            transform: scale(1.25);
            box-shadow: 0 8px 16px rgba(255,215,0,0.5);
            z-index: 20;
        }
        
        .palette-info {
            text-align: center;
            color: #667eea;
            font-size: 0.9em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .canvas-container {
            background: #f5f5f5;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }

        #paint-canvas {
            max-width: 100%;
            display: block;
            margin: 0 auto;
        }

        .paint-area {
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .paint-area:hover {
            opacity: 0.7;
        }

        .game-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .control-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .game-feedback {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 60px;
            margin-bottom: 20px;
            position: relative;
        }

        .game-feedback.correct {
            color: #4CAF50;
            animation: bounce 0.5s;
        }

        .game-feedback.wrong {
            color: #f44336;
            animation: shake 0.5s;
        }

        .celebration-star {
            position: absolute;
            font-size: 2em;
            animation: celebrate 2s ease-out forwards;
            pointer-events: none;
        }

        @keyframes celebrate {
            0% {
                transform: translateY(0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-200px) scale(1);
                opacity: 0;
            }
        }

        @keyframes bigCelebrate {
            0% {
                transform: translateY(0) scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translateY(-100px) scale(1.5) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-300px) scale(2) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes miniCelebrate {
            0% {
                transform: translate(0, 0) scale(0.5) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(var(--random-x), -60px) scale(1.2) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--random-x), -120px) scale(0.8) rotate(360deg);
                opacity: 0;
            }
        }

        .mini-celebration-emoji {
            --random-x: 0px;
        }

        @keyframes prizeCelebrate {
            0% {
                transform: translate(0, 0) scale(0.5) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(var(--prize-x), calc(var(--prize-y) / 2)) scale(1.3) rotate(180deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--prize-x), var(--prize-y)) scale(1) rotate(360deg);
                opacity: 0;
            }
        }

        .celebration-prize {
            --prize-x: 0px;
            --prize-y: -100px;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        @media (max-width: 768px) {
            .paint-game {
                padding: 20px;
            }
            
            .game-header h2 {
                font-size: 1.6em;
            }
            
            .game-header p {
                font-size: 1em;
            }
            
            .picture-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .picture-preview {
                font-size: 3em;
            }
            
            .picture-card p {
                font-size: 1.1em;
            }
            
            .painting-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .painting-header h3 {
                font-size: 1.3em;
            }
            
            .palette-color {
                width: 45px;
                height: 45px;
                font-size: 1.1em;
            }
            
            .palette-info {
                font-size: 0.9em;
            }
            
            .control-btn {
                font-size: 1em;
                padding: 12px 20px;
            }
            
            .game-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .canvas-container {
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            .paint-game {
                padding: 15px;
            }
            
            .game-header h2 {
                font-size: 1.3em;
            }
            
            .game-header p {
                font-size: 0.9em;
            }
            
            .picture-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .picture-card {
                padding: 20px;
            }
            
            .picture-preview {
                font-size: 2.5em;
            }
            
            .picture-card p {
                font-size: 1em;
            }
            
            .painting-header h3 {
                font-size: 1.1em;
            }
            
            .small-btn {
                font-size: 0.9em;
                padding: 8px 15px;
            }
            
            .palette-color {
                width: 42px;
                height: 42px;
                font-size: 1em;
            }
            
            .palette-info {
                font-size: 0.85em;
            }
            
            .control-btn {
                font-size: 0.9em;
                padding: 10px 15px;
                width: 100%;
            }
            
            .canvas-container {
                padding: 8px;
            }
        }

        /* Memory Game Styles */
        .memory-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .memory-game {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .memory-start {
            text-align: center;
        }

        .start-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 25px;
            padding: 60px 40px;
            color: white;
        }

        .big-emoji {
            font-size: 8em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        .start-card h3 {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .start-card p {
            font-size: 1.5em;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .start-game-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 20px 50px;
            font-size: 1.8em;
            font-weight: bold;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .start-game-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .memory-play {
            animation: fadeIn 0.5s;
        }

        .memory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .score-display, .target-display, .tries-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .score-label, .target-label, .tries-label {
            font-size: 1em;
            opacity: 0.9;
        }

        .score-value, .tries-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .target-display {
            flex-direction: row;
            gap: 15px;
        }

        .target-emoji {
            font-size: 3em;
        }

        .target-name {
            font-size: 2em;
            font-weight: bold;
        }

        .memory-cards-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #FFE53B 0%, #FF2525 100%);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .memory-card.flipped {
            background: #f0f0f0;
        }

        .memory-card.found {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            transform: scale(0.95);
            opacity: 0.7;
            pointer-events: none;
        }

        .memory-card:not(.flipped):not(.found):hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .memory-card-front {
            font-size: 5em;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }

        .memory-card-back {
            font-size: 4em;
        }

        .memory-card.showing-front .memory-card-back {
            display: none;
        }

        .memory-card.flipped .memory-card-front {
            display: none;
        }

        .memory-card.flipped .memory-card-back {
            display: block;
        }

        .memory-feedback {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            min-height: 60px;
            margin-bottom: 20px;
        }

        .memory-feedback.correct {
            color: #4CAF50;
            animation: bounce 0.5s;
        }

        .memory-feedback.wrong {
            color: #f44336;
            animation: shake 0.5s;
        }

        @media (max-width: 768px) {
            .memory-game {
                padding: 20px;
            }
            
            .start-card {
                padding: 40px 25px;
            }
            
            .big-emoji {
                font-size: 4.5em;
            }
            
            .start-card h3 {
                font-size: 1.8em;
            }
            
            .start-card p {
                font-size: 1.2em;
            }
            
            .start-game-btn {
                padding: 15px 35px;
                font-size: 1.4em;
            }
            
            .memory-header {
                flex-direction: column;
                gap: 12px;
                padding: 15px;
            }
            
            .score-value, .tries-value {
                font-size: 2em;
            }
            
            .target-display {
                flex-direction: row;
                gap: 10px;
                align-items: center;
            }
            
            .target-emoji {
                font-size: 2.5em;
            }
            
            .target-name {
                font-size: 1.5em;
            }
            
            .memory-cards-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: 10px;
            }
            
            .memory-card-front {
                font-size: 3em;
            }
            
            .memory-card-back {
                font-size: 2.5em;
            }
            
            .memory-feedback {
                font-size: 1.5em;
            }
        }

        @media (max-width: 480px) {
            .memory-game {
                padding: 15px;
            }
            
            .game-header h2 {
                font-size: 1.5em;
            }
            
            .game-header p {
                font-size: 1em;
            }
            
            .start-card {
                padding: 30px 20px;
            }
            
            .big-emoji {
                font-size: 3.5em;
            }
            
            .start-card h3 {
                font-size: 1.5em;
            }
            
            .start-card p {
                font-size: 1em;
                margin-bottom: 20px;
            }
            
            .start-game-btn {
                padding: 12px 25px;
                font-size: 1.2em;
            }
            
            .memory-header {
                padding: 12px;
                gap: 10px;
            }
            
            .score-label, .target-label, .tries-label {
                font-size: 0.85em;
            }
            
            .score-value, .tries-value {
                font-size: 1.8em;
            }
            
            .target-display {
                flex-direction: column;
                gap: 5px;
            }
            
            .target-emoji {
                font-size: 2.2em;
            }
            
            .target-name {
                font-size: 1.2em;
            }
            
            .memory-cards-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            
            .memory-card {
                border-radius: 15px;
            }
            
            .memory-card-front {
                font-size: 2.5em;
            }
            
            .memory-card-back {
                font-size: 2em;
            }
            
            .memory-feedback {
                font-size: 1.2em;
                min-height: 50px;
            }
            
            .control-btn {
                width: 100%;
                font-size: 1em;
                padding: 12px 20px;
            }
        }

        /* Number Ordering Game Styles */
        .ordering-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .ordering-game {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .ordering-status {
            text-align: center;
            margin-bottom: 30px;
        }

        .status-message {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 15px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-message.success {
            background: #4CAF50;
            color: white;
            animation: bounce 0.6s;
        }

        .ordering-area {
            margin-bottom: 30px;
        }

        .ordering-slots {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 20px;
            margin-bottom: 30px;
            min-height: 120px;
        }

        .ordering-slot {
            width: 80px;
            height: 100px;
            border: 3px dashed #999;
            border-radius: 15px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .ordering-slot::before {
            content: attr(data-position);
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9em;
            color: #999;
            font-weight: bold;
        }

        .ordering-slot.drag-over {
            background: #e3f2fd;
            border-color: #667eea;
            transform: scale(1.05);
        }

        .ordering-slot.filled {
            border-style: solid;
            border-color: #4CAF50;
        }

        .ordering-pieces-container {
            background: #fff9e6;
            border-radius: 20px;
            padding: 20px;
        }

        .ordering-pieces-container h3 {
            text-align: center;
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .ordering-pieces {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            min-height: 120px;
            padding: 10px;
        }

        .ordering-number {
            width: 80px;
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 4px solid #333;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            font-weight: bold;
            color: white;
            cursor: move;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            user-select: none;
            touch-action: none;
        }

        .ordering-number:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .ordering-number.dragging {
            opacity: 0.5;
            transform: rotate(15deg) scale(0.9);
        }

        .ordering-number.placed {
            cursor: default;
        }

        @media (max-width: 768px) {
            .ordering-game {
                padding: 25px;
            }

            .game-header h2 {
                font-size: 1.6em;
            }

            .status-message {
                font-size: 1.4em;
            }

            .ordering-slot,
            .ordering-number {
                width: 70px;
                height: 90px;
                font-size: 2.5em;
            }

            .ordering-slots,
            .ordering-pieces {
                gap: 8px;
            }
        }

        @media (max-width: 480px) {
            .ordering-game {
                padding: 15px;
            }

            .game-header h2 {
                font-size: 1.3em;
            }

            .status-message {
                font-size: 1.2em;
            }

            .ordering-slot,
            .ordering-number {
                width: 60px;
                height: 80px;
                font-size: 2em;
            }

            .ordering-slots {
                gap: 5px;
                padding: 10px;
            }

            .ordering-pieces {
                gap: 5px;
            }

            .control-btn {
                width: 100%;
            }
        }

        /* Counting Game Styles */
        .counting-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .counting-game {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .counting-score {
            text-align: center;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            background: #f0f0f0;
            padding: 15px 30px;
            border-radius: 20px;
            display: inline-block;
        }

        .counting-card {
            background: linear-gradient(135deg, #fff9e6 0%, #ffe6f0 100%);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 30px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .counting-card h3 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .items-display {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            align-items: center;
            max-width: 600px;
        }

        .counting-item {
            font-size: 4em;
            animation: popIn 0.3s ease-out;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
        }

        @keyframes popIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .counting-options {
            margin-bottom: 30px;
        }

        .counting-options h3 {
            text-align: center;
            color: #667eea;
            font-size: 1.6em;
            margin-bottom: 20px;
        }

        .number-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .number-btn {
            width: 70px;
            height: 70px;
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: 4px solid #333;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .number-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .number-btn.correct {
            background: #4CAF50;
            animation: pulse 0.5s;
        }

        .number-btn.wrong {
            background: #f44336;
            animation: shake 0.5s;
        }

        .number-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .counting-feedback {
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            min-height: 60px;
            margin: 20px 0;
        }

        .counting-feedback.correct-answer {
            color: #4CAF50;
            animation: bounce 0.6s;
        }

        .counting-feedback.wrong-answer {
            color: #f44336;
            animation: shake 0.5s;
        }

        @media (max-width: 768px) {
            .counting-game {
                padding: 25px;
            }

            .score-display {
                font-size: 1.6em;
                padding: 12px 25px;
            }

            .counting-card {
                padding: 20px;
                min-height: 250px;
            }

            .counting-item {
                font-size: 3em;
            }

            .number-btn {
                width: 60px;
                height: 60px;
                font-size: 1.8em;
            }
        }

        @media (max-width: 480px) {
            .counting-game {
                padding: 15px;
            }

            .score-display {
                font-size: 1.3em;
                padding: 10px 20px;
            }

            .counting-card {
                padding: 15px;
                min-height: 200px;
            }

            .counting-card h3 {
                font-size: 1.3em;
            }

            .counting-item {
                font-size: 2.5em;
            }

            .number-btn {
                width: 55px;
                height: 55px;
                font-size: 1.6em;
            }

            .control-btn {
                width: 100%;
            }
        }

        /* Win Screen Overlay Styles */
        .win-screen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .win-screen-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            border-radius: 40px;
            padding: 50px 60px;
            text-align: center;
            max-width: 600px;
            width: 90%;
            box-shadow: 
                0 0 60px rgba(102, 126, 234, 0.8),
                0 0 120px rgba(118, 75, 162, 0.6),
                inset 0 0 60px rgba(255, 255, 255, 0.1);
            animation: winPopIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
        }

        .win-screen-content::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 70%
            );
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        @keyframes winPopIn {
            0% { 
                transform: scale(0) rotate(-20deg); 
                opacity: 0;
            }
            60% { 
                transform: scale(1.1) rotate(5deg); 
            }
            100% { 
                transform: scale(1) rotate(0deg); 
                opacity: 1;
            }
        }

        .win-trophy {
            font-size: 8em;
            animation: trophyBounce 1s ease infinite;
            text-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        @keyframes trophyBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }

        .win-title {
            font-size: 3.5em;
            color: #FFD700;
            text-shadow: 
                3px 3px 0 #FF6B6B,
                6px 6px 0 rgba(0, 0, 0, 0.2);
            margin: 20px 0;
            animation: titlePulse 1.5s ease infinite;
            position: relative;
            z-index: 1;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .win-subtitle {
            font-size: 2em;
            color: white;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .win-score-display {
            font-size: 2.5em;
            color: #FFE66D;
            font-weight: bold;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.2);
            padding: 15px 40px;
            border-radius: 25px;
            display: inline-block;
            position: relative;
            z-index: 1;
        }

        .win-stars {
            font-size: 3em;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }

        .win-stars span {
            display: inline-block;
            animation: starSpin 1s ease infinite;
        }

        .win-stars span:nth-child(1) { animation-delay: 0s; }
        .win-stars span:nth-child(2) { animation-delay: 0.1s; }
        .win-stars span:nth-child(3) { animation-delay: 0.2s; }
        .win-stars span:nth-child(4) { animation-delay: 0.3s; }
        .win-stars span:nth-child(5) { animation-delay: 0.4s; }

        @keyframes starSpin {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.3); }
        }

        .win-message {
            font-size: 1.5em;
            color: #fff;
            opacity: 0.95;
            margin-bottom: 30px;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .win-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .win-btn {
            padding: 18px 40px;
            font-size: 1.4em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .win-btn-play {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .win-btn-play:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.5);
        }

        .win-btn-menu {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
        }

        .win-btn-menu:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(33, 150, 243, 0.5);
        }

        .win-confetti {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .confetti-piece {
            position: absolute;
            width: 15px;
            height: 15px;
            animation: confettiFall 4s linear infinite;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-100%) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .win-fireworks {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .firework {
            position: absolute;
            font-size: 2.5em;
            animation: fireworkBurst 2s ease-out infinite;
        }

        @keyframes fireworkBurst {
            0% { 
                transform: scale(0); 
                opacity: 1;
            }
            50% { 
                transform: scale(1.5); 
                opacity: 1;
            }
            100% { 
                transform: scale(2); 
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .win-screen-content {
                padding: 35px 25px;
            }
            
            .win-trophy {
                font-size: 5em;
            }
            
            .win-title {
                font-size: 2.5em;
            }
            
            .win-subtitle {
                font-size: 1.5em;
            }
            
            .win-score-display {
                font-size: 1.8em;
            }
            
            .win-message {
                font-size: 1.2em;
            }
            
            .win-btn {
                padding: 15px 30px;
                font-size: 1.2em;
            }
        }

        @media (max-width: 480px) {
            .win-screen-content {
                padding: 25px 20px;
            }
            
            .win-trophy {
                font-size: 4em;
            }
            
            .win-title {
                font-size: 2em;
            }
            
            .win-subtitle {
                font-size: 1.2em;
            }
            
            .win-score-display {
                font-size: 1.5em;
                padding: 12px 25px;
            }
            
            .win-stars {
                font-size: 2em;
            }
            
            .win-message {
                font-size: 1em;
            }
            
            .win-btn {
                padding: 12px 25px;
                font-size: 1.1em;
                width: 100%;
            }
        }

        /* Coin Math Game Styles */
        .coin-math-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .coin-math-game {
            background: white;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .answer-and-box-container {
            display: flex;
            gap: 40px;
            justify-content: center;
            align-items: flex-start;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .treasure-box-container {
            display: flex;
            justify-content: center;
            flex: 0 0 auto;
        }

        .treasure-box {
            position: relative;
            width: 450px;
            perspective: 1000px;
        }

        .box-lid {
            width: 100%;
            height: 60px;
            background: linear-gradient(135deg, #ff69b4 0%, #ffb6d9 50%, #ff69b4 100%);
            border: 6px solid #ff1493;
            border-radius: 15px 15px 0 0;
            position: relative;
            z-index: 10;
            box-shadow: 
                0 8px 16px rgba(0,0,0,0.3),
                inset 0 2px 15px rgba(255,255,255,0.5);
            transform-origin: top;
            transition: transform 0.5s ease;
        }

        .box-lid::before {
            content: '🐷';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2em;
            filter: drop-shadow(0 0 5px rgba(255,255,255,0.8));
        }

        .box-lid::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 15px;
            background: #ff1493;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .treasure-box.open .box-lid {
            transform: rotateX(-120deg);
        }

        .box-body {
            width: 100%;
            min-height: 220px;
            background: linear-gradient(135deg, #ff69b4 0%, #ffb6d9 50%, #ff69b4 100%);
            border: 6px solid #ff1493;
            border-top: none;
            border-radius: 0 0 15px 15px;
            padding: 25px;
            position: relative;
            box-shadow: 
                inset 0 8px 20px rgba(0,0,0,0.2), 
                0 12px 25px rgba(0,0,0,0.3),
                inset 0 -10px 30px rgba(255,255,255,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        /* Nose removed - cleaner look
        .box-body::before {
            content: '👃';
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2.5em;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.2));
        }
        */

        .box-body::after {
            content: '';
            position: absolute;
            top: 40%;
            right: 15%;
            width: 30px;
            height: 30px;
            background: #fff;
            border: 4px solid #ff1493;
            border-radius: 50%;
            box-shadow: 
                inset 0 2px 5px rgba(0,0,0,0.2),
                0 2px 5px rgba(0,0,0,0.2);
        }

        /* Piggy ears */
        .box-body {
            --ear-left: -25px;
            --ear-right: auto;
        }

        .treasure-box::before {
            content: '';
            position: absolute;
            top: 25%;
            left: -15px;
            width: 40px;
            height: 50px;
            background: linear-gradient(135deg, #ff69b4, #ffb6d9);
            border: 4px solid #ff1493;
            border-radius: 10px 10px 0 10px;
            transform: rotate(-20deg);
            box-shadow: 
                inset 0 2px 8px rgba(255,255,255,0.4),
                0 4px 8px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .treasure-box::after {
            content: '';
            position: absolute;
            top: 25%;
            right: -15px;
            width: 40px;
            height: 50px;
            background: linear-gradient(135deg, #ffb6d9, #ff69b4);
            border: 4px solid #ff1493;
            border-radius: 10px 10px 10px 0;
            transform: rotate(20deg);
            box-shadow: 
                inset 0 2px 8px rgba(255,255,255,0.4),
                0 4px 8px rgba(0,0,0,0.2);
            z-index: 1;
        }
            white-space: nowrap;
        }

        .coin-count {
            font-size: 2.2em;
            font-weight: bold;
            color: #fff;
            text-shadow: 
                2px 2px 4px rgba(0,0,0,0.8),
                0 0 10px rgba(255,105,180,0.8);
            margin-bottom: 15px;
            background: rgba(255,20,147,0.3);
            padding: 10px 25px;
            border-radius: 25px;
            border: 3px solid #fff;
            box-shadow: 
                0 4px 8px rgba(0,0,0,0.3),
                inset 0 2px 8px rgba(255,255,255,0.3);
            position: relative;
            z-index: 10;
        }

        .box-coins {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            align-items: flex-end;
            min-height: 80px;
            position: relative;
            z-index: 5;
        }

        .box-coin {
            font-size: 3.5em;
            display: inline-block;
            filter: 
                drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8))
                drop-shadow(0 0 12px rgba(255, 215, 0, 0.9))
                drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.4))
                brightness(1.3)
                contrast(1.15);
            animation: coinGlowPulse 2s ease-in-out infinite;
        }

        @keyframes coinGlowPulse {
            0%, 100% { 
                filter: 
                    drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8))
                    drop-shadow(0 0 12px rgba(255, 215, 0, 0.9))
                    drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.4))
                    brightness(1.3)
                    contrast(1.15);
                transform: scale(1);
            }
            50% { 
                filter: 
                    drop-shadow(2px 2px 6px rgba(255, 215, 0, 1))
                    drop-shadow(0 0 20px rgba(255, 215, 0, 1))
                    drop-shadow(3px 3px 8px rgba(0, 0, 0, 0.5))
                    brightness(1.5)
                    contrast(1.2);
                transform: scale(1.05);
            }
        }

        .box-coin.adding {
            animation: coinFallIn 0.8s ease-out;
        }

        .box-coin.removing {
            animation: coinFlyOut 0.6s ease-in forwards;
        }

        @keyframes coinFallIn {
            0% {
                transform: translateY(-200px) scale(0.3) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: translateY(0) scale(1.2) rotate(180deg);
            }
            100% {
                transform: translateY(0) scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        @keyframes coinFlyOut {
            0% {
                transform: translateY(0) scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-200px) scale(0.3) rotate(-360deg);
                opacity: 0;
            }
        }

        .coin-score {
            text-align: center;
            margin-bottom: 30px;
        }

        .math-problem {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            padding: 30px;
            background: linear-gradient(135deg, #fff9e6 0%, #ffe6cc 100%);
            border-radius: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .coin-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .coins-display {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            min-height: 80px;
            align-items: center;
            padding: 15px;
            background: rgba(255,255,255,0.5);
            border-radius: 15px;
            border: 3px dashed #d4af37;
        }

        .golden-coin {
            font-size: 3em;
            display: inline-block;
            filter: drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8)) 
                    drop-shadow(0 0 10px rgba(255, 215, 0, 0.6))
                    drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.4))
                    brightness(1.2)
                    contrast(1.15);
            animation: coinShine 2s infinite;
        }

        @keyframes coinShine {
            0%, 100% { 
                filter: drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8)) 
                        drop-shadow(0 0 10px rgba(255, 215, 0, 0.6))
                        drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.4))
                        brightness(1.2)
                        contrast(1.15);
                transform: scale(1);
            }
            50% { 
                filter: drop-shadow(2px 2px 6px rgba(255, 215, 0, 1)) 
                        drop-shadow(0 0 18px rgba(255, 215, 0, 0.9))
                        drop-shadow(3px 3px 8px rgba(0, 0, 0, 0.5))
                        brightness(1.4)
                        contrast(1.2);
                transform: scale(1.08);
            }
        }

        .group-number {
            font-size: 3em;
            font-weight: bold;
            color: #d4af37;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .math-operator {
            font-size: 4em;
            font-weight: bold;
            color: #667eea;
        }

        .math-answer {
            font-size: 4em;
            font-weight: bold;
            color: #f4a261;
        }

        .answer-options {
            flex: 1 1 auto;
            min-width: 300px;
        }

        .answer-options h3 {
            text-align: center;
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .answer-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            justify-content: center;
        }

        .answer-btn {
            width: 100px;
            height: 100px;
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #d4af37 0%, #f4e5a1 100%);
            color: #333;
            border: 5px solid #8b7355;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* 50 Coin Prize Styles */
        .coin-prize-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.5s;
        }

        .prize-content {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%);
            border: 8px solid #ff8c00;
            border-radius: 30px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: prizePopIn 0.6s ease-out;
            max-width: 600px;
        }

        @keyframes prizePopIn {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(10deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .prize-title {
            font-size: 4em;
            color: #ff1493;
            text-shadow: 
                3px 3px 0 #fff,
                -3px -3px 0 #fff,
                3px -3px 0 #fff,
                -3px 3px 0 #fff,
                0 0 20px rgba(255,215,0,1);
            margin-bottom: 20px;
            animation: bounce 1s infinite;
        }

        .prize-message {
            font-size: 2.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
        }

        .money-prize {
            font-size: 3.5em;
            font-weight: bold;
            color: #228b22;
            margin-bottom: 30px;
            text-shadow: 
                3px 3px 0 #fff,
                -3px -3px 0 #fff,
                3px -3px 0 #fff,
                -3px 3px 0 #fff;
            animation: moneyGlow 1.5s ease-in-out infinite;
        }

        @keyframes moneyGlow {
            0%, 100% { 
                filter: drop-shadow(0 0 10px #228b22);
                transform: scale(1);
            }
            50% { 
                filter: drop-shadow(0 0 30px #00ff00);
                transform: scale(1.1);
            }
        }

        .prize-emojis {
            font-size: 3em;
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }

        .new-game-btn {
            font-size: 2em;
            font-weight: bold;
            padding: 20px 50px;
            background: linear-gradient(135deg, #4CAF50 0%, #81c784 100%);
            color: white;
            border: 6px solid #2e7d32;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
        }

        .new-game-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(0,0,0,0.6);
        }

        .falling-money {
            position: absolute;
            top: -50px;
            animation: fallMoney 4s linear infinite;
            pointer-events: none;
        }

        @keyframes fallMoney {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0.5;
            }
        }

        /* Lunch Box Packing Game Styles */
        .lunch-box-game-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 40px 20px;
        }

        .lunch-game-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .lunch-game-content {
            direction: rtl;
        }

        .lunch-game-content h2 {
            text-align: center;
            font-size: 3em;
            color: #2c3e50;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .lunch-instructions {
            text-align: center;
            font-size: 1.5em;
            color: #34495e;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .lunch-instructions-en {
            text-align: center;
            font-size: 1.2em;
            color: #7f8c8d;
            margin-bottom: 30px;
            direction: ltr;
        }

        /* Fixed Bottom Button to Open Lunch Box */
        .open-lunchbox-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(238,90,36,0.5);
            z-index: 100;
            transition: all 0.3s ease;
            animation: pulseButton 2s ease-in-out infinite;
        }

        @keyframes pulseButton {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
        }

        .open-lunchbox-btn:hover {
            transform: translateX(-50%) scale(1.1);
            box-shadow: 0 15px 40px rgba(238,90,36,0.7);
        }

        /* Lunch Box Overlay */
        .lunchbox-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 10000;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 20px;
            animation: fadeIn 0.3s ease;
            direction: rtl;
        }

        .realistic-lunchbox {
            position: relative;
            max-width: 900px;
            width: 95%;
            margin: auto;
            animation: slideUp 0.5s ease;
            max-height: none;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Close Button */
        .close-lunchbox-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border: 4px solid white;
            padding: 20px 40px;
            font-size: 2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(231,76,60,0.7);
            transition: all 0.3s ease;
            z-index: 10001;
            animation: pulseClose 2s ease-in-out infinite;
        }

        @keyframes pulseClose {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 8px 25px rgba(231,76,60,0.7);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 12px 35px rgba(231,76,60,0.9);
            }
        }

        .close-lunchbox-btn:hover {
            background: linear-gradient(135deg, #c0392b 0%, #a93226 100%);
            transform: scale(1.15);
            box-shadow: 0 15px 40px rgba(231,76,60,1);
        }

        /* 3D Realistic Lunch Box */
        .lunchbox-3d {
            perspective: 1000px;
        }

        .lunchbox-handle {
            width: 150px;
            height: 20px;
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            margin: 0 auto 10px;
            border-radius: 10px 10px 0 0;
            position: relative;
            box-shadow: 
                inset 0 -2px 5px rgba(0,0,0,0.3),
                0 5px 10px rgba(0,0,0,0.3);
        }

        .lunchbox-handle::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 8px;
            background: #95a5a6;
            border-radius: 4px;
        }

        .lunchbox-lid-top {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            padding: 25px;
            border-radius: 30px 30px 0 0;
            box-shadow: 
                0 -5px 15px rgba(0,0,0,0.2),
                inset 0 -3px 10px rgba(0,0,0,0.2);
            border: 5px solid #c0392b;
            position: relative;
        }

        .lunchbox-lid-top::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            height: 3px;
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
        }

        .lid-label {
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            color: white;
            text-shadow: 
                2px 2px 4px rgba(0,0,0,0.3),
                0 0 20px rgba(255,255,255,0.5);
        }

        .lunchbox-body {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 35px 35px 40px 35px;
            border-radius: 0 0 30px 30px;
            box-shadow: 
                0 10px 40px rgba(0,0,0,0.4),
                inset 0 5px 15px rgba(0,0,0,0.1);
            border: 5px solid #f39c12;
            border-top: none;
            min-height: 400px;
        }

        .compartments {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 25px;
        }

        .compartment {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 
                0 5px 15px rgba(0,0,0,0.2),
                inset 0 2px 5px rgba(0,0,0,0.1);
            border: 4px dashed #bdc3c7;
            transition: all 0.3s ease;
            min-height: 180px;
            position: relative;
        }

        .compartment::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
            border-radius: 20px;
            pointer-events: none;
        }

        .compartment.filled {
            border: 4px solid #27ae60;
            box-shadow: 
                0 8px 25px rgba(39,174,96,0.4),
                inset 0 2px 5px rgba(39,174,96,0.1);
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        }

        .compartment-label {
            font-size: 1.3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }

        .label-en {
            display: block;
            font-size: 0.7em;
            color: #7f8c8d;
            direction: ltr;
        }

        .compartment-content {
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .compartment-content:hover {
            transform: scale(1.1);
        }

        .lunchbox-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 25px;
            padding: 10px;
        }

        .check-lunch-btn, .reset-lunch-btn, .close-lunch-btn {
            padding: 16px 30px;
            font-size: 1.4em;
            font-weight: bold;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            flex: 0 1 auto;
            max-width: 250px;
            white-space: nowrap;
        }

        .check-lunch-btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
        }

        .check-lunch-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(39,174,96,0.4);
        }

        .reset-lunch-btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .reset-lunch-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(231,76,60,0.4);
        }

        .close-lunch-btn {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            border: 3px solid white;
            animation: pulsateClose 1.5s ease-in-out infinite;
        }

        @keyframes pulsateClose {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 8px 20px rgba(255,107,53,0.5);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 12px 30px rgba(255,107,53,0.8);
            }
        }

        .close-lunch-btn:hover {
            background: linear-gradient(135deg, #f7931e 0%, #ff6b35 100%);
            transform: scale(1.05);
            box-shadow: 0 15px 35px rgba(255,107,53,0.9);
        }

        .food-shelves-container {
            background: rgba(255,255,255,0.9);
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .food-shelves-container h3 {
            text-align: center;
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .food-shelf {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .food-shelf.unhealthy-shelf {
            background: linear-gradient(135deg, #ffe5e5 0%, #ffd5d5 100%);
            border: 3px solid #e74c3c;
        }

        .shelf-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            padding: 10px;
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            color: white;
            border-radius: 15px;
            text-align: center;
        }

        .unhealthy-shelf .shelf-title {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .shelf-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
        }

        .food-item {
            background: white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 3px solid transparent;
        }

        .food-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .food-item.healthy {
            border-color: #27ae60;
        }

        .food-item.unhealthy {
            border-color: #e74c3c;
            background: #fff5f5;
        }

        .food-item.selected {
            transform: scale(0.9);
            opacity: 0.5;
        }

        .food-emoji {
            font-size: 3.5em;
            display: block;
            margin-bottom: 5px;
        }

        .food-name {
            font-size: 0.9em;
            font-weight: bold;
            color: #2c3e50;
        }

        .food-name-ar {
            font-size: 0.8em;
            color: #7f8c8d;
        }

        .lunch-feedback {
            margin-top: 30px;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            min-height: 60px;
        }

        .lunch-feedback.success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 3px solid #28a745;
        }

        .lunch-feedback.warning {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
            color: #856404;
            border: 3px solid #ffc107;
        }

        .lunch-feedback.error {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            border: 3px solid #dc3545;
        }

        /* Teeth Health Display */
        .teeth-display {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease;
        }

        .teeth-warning {
            background: white;
            border-radius: 30px;
            padding: 40px;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: popIn 0.5s ease;
        }

        .teeth-warning h2 {
            color: #e74c3c;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .teeth-warning p {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .mouth-container {
            background: #ffe0e0;
            border-radius: 50px;
            padding: 30px;
            margin: 30px auto;
            display: inline-block;
            border: 5px solid #e74c3c;
        }

        .child-mouth {
            background: #ff9999;
            border-radius: 30px;
            padding: 20px;
            position: relative;
        }

        .upper-teeth, .lower-teeth {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 10px 0;
        }

        .tooth {
            width: 38px;
            height: 50px;
            background: linear-gradient(180deg, 
                #ffffff 0%, 
                #f8f9fa 40%, 
                #e9ecef 80%, 
                #dee2e6 100%);
            border-radius: 45% 45% 15% 15%;
            box-shadow: 
                0 3px 8px rgba(0,0,0,0.3),
                inset 0 2px 4px rgba(255,255,255,0.8),
                inset 0 -3px 6px rgba(0,0,0,0.1);
            position: relative;
            transition: all 0.3s ease;
            animation: toothAppear 0.5s ease;
        }

        .tooth::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 15px;
            background: linear-gradient(180deg, 
                rgba(255,255,255,0.9) 0%, 
                rgba(255,255,255,0) 100%);
            border-radius: 50%;
            filter: blur(2px);
        }

        .tooth::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(0,0,0,0.05) 0%, 
                rgba(0,0,0,0.02) 50%, 
                rgba(0,0,0,0.05) 100%);
            border-radius: 0 0 15% 15%;
        }

        .tooth.decayed {
            background: linear-gradient(180deg, 
                #8b6f47 0%, 
                #654321 30%, 
                #4a2f1a 60%, 
                #2d1810 100%);
            box-shadow: 
                0 3px 10px rgba(0,0,0,0.6),
                inset 0 2px 6px rgba(0,0,0,0.5),
                inset 0 -2px 4px rgba(139,111,71,0.3);
            animation: decayAnimation 1s ease;
        }

        .tooth.decayed::before {
            background: linear-gradient(180deg, 
                rgba(139,111,71,0.4) 0%, 
                rgba(0,0,0,0.3) 100%);
        }

        .tooth.decayed::after {
            background: linear-gradient(90deg, 
                rgba(0,0,0,0.3) 0%, 
                rgba(0,0,0,0.2) 50%, 
                rgba(0,0,0,0.3) 100%);
        }

        @keyframes toothAppear {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes decayAnimation {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-5deg) scale(0.98); }
            50% { transform: rotate(0deg) scale(0.96); }
            75% { transform: rotate(5deg) scale(0.98); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popIn {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .teeth-message {
            font-size: 1.3em;
            color: #2c3e50;
            margin: 15px 0;
        }

        .teeth-message-ar {
            font-size: 1.3em;
            color: #34495e;
            direction: rtl;
        }

        .try-again-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5em;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 6px 15px rgba(52,152,219,0.4);
            transition: all 0.3s ease;
        }

        .try-again-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(52,152,219,0.6);
        }

        /* ===== NEW REFACTORED LUNCH BOX STYLES ===== */
        
        .lunch-main-container {
            display: flex;
            gap: 15px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }

        /* Left Side: 3D Lunch Box */
        .lunch-box-side {
            flex: 0 0 350px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* CSS 3D Lunch Box */
        .css-lunchbox-3d {
            perspective: 1000px;
            width: 100%;
        }

        .lunch-box-lid {
            width: 100%;
            height: 40px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            border-radius: 12px 12px 0 0;
            border: 4px solid #c0392b;
            box-shadow: 
                0 4px 10px rgba(0,0,0,0.3),
                inset 0 2px 10px rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .lid-handle {
            width: 80px;
            height: 12px;
            background: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);
            border-radius: 6px;
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.4),
                0 2px 4px rgba(255,255,255,0.3);
        }

        .lunch-box-container-3d {
            width: 100%;
            min-height: 280px;
            background: linear-gradient(135deg, #ffd93d 0%, #ffb800 100%);
            border: 4px solid #f39c12;
            border-top: none;
            border-radius: 0 0 12px 12px;
            box-shadow: 
                0 10px 30px rgba(0,0,0,0.3),
                inset 0 4px 15px rgba(0,0,0,0.1);
            transform-style: preserve-3d;
        }

        .lunch-box-inner {
            padding: 15px;
            height: 100%;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            margin: 8px;
        }

        .food-items-display {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            align-items: center;
            min-height: 240px;
            padding: 10px;
        }

        .food-item-in-box {
            font-size: 3.5em;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
            animation: foodPop 0.4s ease;
        }

        @keyframes foodPop {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Action Buttons */
        .lunch-action-buttons {
            display: flex;
            gap: 10px;
        }

        .check-lunch-btn-new,
        .reset-lunch-btn-new {
            flex: 1;
            padding: 12px;
            font-size: 1.3em;
            font-weight: bold;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .check-lunch-btn-new {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
        }

        .reset-lunch-btn-new {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
        }

        .check-lunch-btn-new:hover,
        .reset-lunch-btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        /* Feedback */
        .lunch-feedback-new {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            padding: 12px;
            border-radius: 12px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lunch-feedback-new.success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 2px solid #28a745;
        }

        .lunch-feedback-new.error {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            border: 2px solid #dc3545;
        }

        /* Right Side: Food Selection */
        .food-selection-side {
            flex: 1;
            min-width: 0;
        }

        .food-selection-title {
            text-align: center;
            font-size: 2em;
            color: #2c3e50;
            margin: 0 0 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .food-columns {
            display: flex;
            gap: 10px;
        }

        .food-column {
            flex: 1;
            min-width: 0;
        }

        .food-items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 8px;
        }

        .food-item-card {
            background: white;
            border-radius: 12px;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            border: 2px solid transparent;
        }

        .food-item-card:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            border-color: #3498db;
        }

        .food-item-card.selected {
            opacity: 0.5;
            transform: scale(0.9);
            border-color: #95a5a6;
        }

        .food-item-card.unhealthy {
            border: 2px solid #e74c3c;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe5e5 100%);
        }

        .food-emoji {
            font-size: 3em;
            display: block;
            margin-bottom: 4px;
        }

        .food-name {
            font-size: 0.75em;
            color: #2c3e50;
            font-weight: 600;
            line-height: 1.2;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .lunch-main-container {
                flex-direction: column-reverse;
                padding: 5px;
                gap: 10px;
            }

            .lunch-box-side {
                flex: none;
                width: 100%;
            }

            .food-selection-title {
                font-size: 1.5em;
                margin: 0 0 10px 0;
            }

            .food-items-grid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                gap: 6px;
            }

            .food-emoji {
                font-size: 2.5em;
            }

            .food-name {
                font-size: 0.7em;
            }

            .food-item-in-box {
                font-size: 2.8em;
            }

            .lunch-box-container-3d {
                min-height: 220px;
            }

            .food-items-display {
                min-height: 180px;
                gap: 6px;
            }
        }

        @media (max-width: 480px) {
            .lunch-main-container {
                padding: 3px;
            }

            .food-columns {
                gap: 6px;
            }

            .food-items-grid {
                grid-template-columns: repeat(auto-fill, minmax(55px, 1fr));
                gap: 4px;
            }

            .food-item-card {
                padding: 6px;
                border-radius: 8px;
            }

            .food-emoji {
                font-size: 2.2em;
            }

            .food-name {
                font-size: 0.65em;
            }

            .food-item-in-box {
                font-size: 2.5em;
            }

            .check-lunch-btn-new,
            .reset-lunch-btn-new {
                font-size: 1.1em;
                padding: 10px;
            }

            .lunch-box-container-3d {
                min-height: 180px;
            }

            .food-items-display {
                min-height: 140px;
                padding: 6px;
            }

            .lunch-feedback-new {
                font-size: 1.1em;
                padding: 8px;
            }
        }
            box-shadow: 0 8px 20px rgba(52,152,219,0.6);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .answer-btn::before {
            content: '🪙';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.4em;
        }

        .answer-btn:hover {
            transform: scale(1.15) rotate(5deg);
            box-shadow: 0 8px 16px rgba(212,175,55,0.5);
        }

        .answer-btn.correct {
            background: linear-gradient(135deg, #4CAF50 0%, #81c784 100%);
            animation: correctPulse 0.6s;
        }

        .answer-btn.wrong {
            background: linear-gradient(135deg, #f44336 0%, #e57373 100%);
            animation: shake 0.5s;
        }

        .answer-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @media (max-width: 768px) {
            .coin-math-game {
                padding: 25px;
            }

            .answer-and-box-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }

            .answer-buttons {
                flex-direction: row;
                flex-wrap: wrap;
            }

            .treasure-box {
                width: 380px;
            }

            .treasure-box::before,
            .treasure-box::after {
                width: 35px;
                height: 45px;
            }

            .box-lid {
                height: 50px;
            }

            .box-lid::before {
                font-size: 1.6em;
            }

            .box-body {
                min-height: 150px;
                padding: 18px;
            }

            .coin-count {
                font-size: 2em;
            }

            .box-coin {
                font-size: 3em;
            }

            .golden-coin {
                font-size: 2.5em;
            }

            .math-operator, .math-answer {
                font-size: 3em;
            }

            .group-number {
                font-size: 2.5em;
            }

            .answer-btn {
                width: 80px;
                height: 80px;
                font-size: 2em;
            }

            .golden-coin {
                font-size: 2.5em;
                filter: 
                    drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8))
                    drop-shadow(0 0 12px rgba(255, 215, 0, 0.7))
                    drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3))
                    brightness(1.3)
                    contrast(1.15);
            }

            .box-coin {
                font-size: 3em;
                filter: 
                    drop-shadow(2px 2px 4px rgba(255, 215, 0, 0.8))
                    drop-shadow(0 0 12px rgba(255, 215, 0, 1))
                    drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4))
                    brightness(1.3)
                    contrast(1.15);
            }
        }

        @media (max-width: 480px) {
            .coin-math-game {
                padding: 15px;
            }

            .answer-and-box-container {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .answer-buttons {
                flex-direction: row;
                flex-wrap: wrap;
            }

            .treasure-box {
                width: 320px;
            }

            .treasure-box::before,
            .treasure-box::after {
                width: 30px;
                height: 40px;
            }

            .box-lid {
                height: 45px;
            }

            .box-lid::before {
                font-size: 1.4em;
            }

            .box-body::before {
                font-size: 2em;
                bottom: 30px;
            }

            .box-body::after {
                width: 25px;
                height: 25px;
            }

            .box-body {
                min-height: 130px;
                padding: 15px;
            }

            .coin-count {
                font-size: 1.8em;
            }

            .box-coin {
                font-size: 2.8em;
            }

            .golden-coin {
                font-size: 2em;
            }

            .math-problem {
                gap: 15px;
                padding: 15px;
            }

            .math-operator, .math-answer {
                font-size: 2.5em;
            }

            .group-number {
                font-size: 2em;
            }

            .answer-btn {
                width: 70px;
                height: 70px;
                font-size: 1.8em;
            }

            .control-btn {
                width: 100%;
            }
        }

    </style>
</head>
<body>
    <!-- Back to Menu Button -->
    <button class="back-to-menu" id="back-to-menu" onclick="backToMainMenu()">⬅️ القائمة الرئيسية</button>

    <div class="header">
        <!-- Child Photo Section -->
        <div class="child-photo-container">
            <img src="child-photo.jpg" alt="Child Photo" class="child-photo">
        </div>
        
        <h1 id="main-title" style="display: none;">🌟 تعلم الحروف العربية 🌟</h1>
        <p id="subtitle" style="display: none;">اضغط على البطاقة لرؤية الحيوان!</p>
        
        <!-- Main Menu Screen -->
        <div id="main-menu" class="main-menu-screen">
            <div class="menu-header">
                <h1 class="game-title">🌟 ليث حجي 🌟</h1>
            </div>
            
            <div class="game-categories">
                <!-- Row 1: Letters -->
                <div class="category-card" onclick="showTab('arabic')">
                    <div class="card-icon">🌙</div>
                    <h3 class="card-title">Arabic Letters</h3>
                    <p class="card-subtitle">الحروف العربية</p>
                    <div class="card-info">٢٨ حرف</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <div class="category-card" onclick="showTab('english')">
                    <div class="card-icon">🌟</div>
                    <h3 class="card-title">English Letters</h3>
                    <p class="card-subtitle">A to Z</p>
                    <div class="card-info">٢٦ حرف</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <!-- Row 2: Creative -->
                <div class="category-card" onclick="showTab('numbers')">
                    <div class="card-icon">🎨</div>
                    <h3 class="card-title">Paint by Numbers</h3>
                    <p class="card-subtitle">لون بالأرقام</p>
                    <div class="card-info">١٦ صورة</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <div class="category-card" onclick="showTab('memory')">
                    <div class="card-icon">🧠</div>
                    <h3 class="card-title">Memory Game</h3>
                    <p class="card-subtitle">لعبة الذاكرة</p>
                    <div class="card-info">ابحث عن الأزواج</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <!-- Row 3: Numbers Arabic -->
                <div class="category-card" onclick="showTab('order-arabic')">
                    <div class="card-icon">🔢</div>
                    <h3 class="card-title">Order Numbers</h3>
                    <p class="card-subtitle">رتب الأرقام</p>
                    <div class="card-info">من ١ إلى ١٠</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <div class="category-card" onclick="showTab('count-arabic')">
                    <div class="card-icon">🍎</div>
                    <h3 class="card-title">Count Fruits</h3>
                    <p class="card-subtitle">عد الفواكه</p>
                    <div class="card-info">تعلم العد</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <!-- Row 4: Numbers English -->
                <div class="category-card" onclick="showTab('order-english')">
                    <div class="card-icon">🔢</div>
                    <h3 class="card-title">Order Numbers</h3>
                    <p class="card-subtitle">1 to 10</p>
                    <div class="card-info">إنجليزي</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <div class="category-card" onclick="showTab('count-english')">
                    <div class="card-icon">🥕</div>
                    <h3 class="card-title">Count Vegetables</h3>
                    <p class="card-subtitle">Learn to Count</p>
                    <div class="card-info">من ١ إلى ١٠</div>
                    <div class="play-badge">العب</div>
                </div>
                
                <!-- Row 5: Math -->
                <div class="category-card special-card" onclick="showTab('coin-math')">
                    <div class="card-icon">🪙</div>
                    <h3 class="card-title">Coin Math</h3>
                    <p class="card-subtitle">حساب العملات</p>
                    <div class="card-info">متعة الجمع!</div>
                    <div class="play-badge special">العب</div>
                </div>
                
                <!-- Row 6: Healthy Living -->
                <div class="category-card" onclick="showTab('lunch-box')">
                    <div class="card-icon">🍱</div>
                    <h3 class="card-title">Lunch Box Packing</h3>
                    <p class="card-subtitle">حقيبة الغداء</p>
                    <div class="card-info">وجبة صحية!</div>
                    <div class="play-badge">العب</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Arabic Cards Container -->
    <div class="container" id="arabic-container" style="display: none;">
        <!-- أ - أرنب (Rabbit) -->
        <div class="card" data-letter="أ" data-language="arabic">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">أ</div>
                    <div class="letter-name">ألف</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐰</div>
                    <div class="animal-name">أرنب</div>
                </div>
            </div>
        </div>

        <!-- ب - بطة (Duck) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ب</div>
                    <div class="letter-name">باء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦆</div>
                    <div class="animal-name">بطة</div>
                </div>
            </div>
        </div>

        <!-- ت - تمساح (Crocodile) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ت</div>
                    <div class="letter-name">تاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐊</div>
                    <div class="animal-name">تمساح</div>
                </div>
            </div>
        </div>

        <!-- ث - ثعلب (Fox) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ث</div>
                    <div class="letter-name">ثاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦊</div>
                    <div class="animal-name">ثعلب</div>
                </div>
            </div>
        </div>

        <!-- ج - جمل (Camel) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ج</div>
                    <div class="letter-name">جيم</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐪</div>
                    <div class="animal-name">جمل</div>
                </div>
            </div>
        </div>

        <!-- ح - حصان (Horse) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ح</div>
                    <div class="letter-name">حاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐴</div>
                    <div class="animal-name">حصان</div>
                </div>
            </div>
        </div>

        <!-- خ - خروف (Sheep) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">خ</div>
                    <div class="letter-name">خاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐑</div>
                    <div class="animal-name">خروف</div>
                </div>
            </div>
        </div>

        <!-- د - دب (Bear) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">د</div>
                    <div class="letter-name">دال</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐻</div>
                    <div class="animal-name">دب</div>
                </div>
            </div>
        </div>

        <!-- ر - رجل (Rooster) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ر</div>
                    <div class="letter-name">راء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐓</div>
                    <div class="animal-name">ديك</div>
                </div>
            </div>
        </div>

        <!-- ز - زرافة (Giraffe) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ز</div>
                    <div class="letter-name">زاي</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦒</div>
                    <div class="animal-name">زرافة</div>
                </div>
            </div>
        </div>

        <!-- س - سمكة (Fish) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">س</div>
                    <div class="letter-name">سين</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐟</div>
                    <div class="animal-name">سمكة</div>
                </div>
            </div>
        </div>

        <!-- ش - شجرة (Tree - using bee) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ش</div>
                    <div class="letter-name">شين</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐝</div>
                    <div class="animal-name">نحلة</div>
                </div>
            </div>
        </div>

        <!-- ص - صقر (Falcon) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ص</div>
                    <div class="letter-name">صاد</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦅</div>
                    <div class="animal-name">صقر</div>
                </div>
            </div>
        </div>

        <!-- ض - ضفدع (Frog) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ض</div>
                    <div class="letter-name">ضاد</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐸</div>
                    <div class="animal-name">ضفدع</div>
                </div>
            </div>
        </div>

        <!-- ط - طاووس (Peacock) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ط</div>
                    <div class="letter-name">طاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦚</div>
                    <div class="animal-name">طاووس</div>
                </div>
            </div>
        </div>

        <!-- ظ - ظبي (Deer) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ظ</div>
                    <div class="letter-name">ظاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦌</div>
                    <div class="animal-name">غزال</div>
                </div>
            </div>
        </div>

        <!-- ع - عصفور (Bird) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ع</div>
                    <div class="letter-name">عين</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐦</div>
                    <div class="animal-name">عصفور</div>
                </div>
            </div>
        </div>

        <!-- غ - غراب (Crow) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">غ</div>
                    <div class="letter-name">غين</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐦‍⬛</div>
                    <div class="animal-name">غراب</div>
                </div>
            </div>
        </div>

        <!-- ف - فيل (Elephant) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ف</div>
                    <div class="letter-name">فاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐘</div>
                    <div class="animal-name">فيل</div>
                </div>
            </div>
        </div>

        <!-- ق - قطة (Cat) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ق</div>
                    <div class="letter-name">قاف</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐱</div>
                    <div class="animal-name">قطة</div>
                </div>
            </div>
        </div>

        <!-- ك - كلب (Dog) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ك</div>
                    <div class="letter-name">كاف</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐕</div>
                    <div class="animal-name">كلب</div>
                </div>
            </div>
        </div>

        <!-- ل - أسد (Lion) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ل</div>
                    <div class="letter-name">لام</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦁</div>
                    <div class="animal-name">أسد</div>
                </div>
            </div>
        </div>

        <!-- م - ماعز (Goat) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">م</div>
                    <div class="letter-name">ميم</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐐</div>
                    <div class="animal-name">ماعز</div>
                </div>
            </div>
        </div>

        <!-- ن - نمر (Tiger) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ن</div>
                    <div class="letter-name">نون</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐯</div>
                    <div class="animal-name">نمر</div>
                </div>
            </div>
        </div>

        <!-- ه - هدهد (Bird) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ه</div>
                    <div class="letter-name">هاء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦜</div>
                    <div class="animal-name">ببغاء</div>
                </div>
            </div>
        </div>

        <!-- و - وزة (Goose) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">و</div>
                    <div class="letter-name">واو</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦢</div>
                    <div class="animal-name">بجعة</div>
                </div>
            </div>
        </div>

        <!-- ي - يمامة (Dove) -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">ي</div>
                    <div class="letter-name">ياء</div>
                    <div class="hint">👆 اضغط</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🕊️</div>
                    <div class="animal-name">حمامة</div>
                </div>
            </div>
        </div>
    </div>

    <!-- English Cards Container -->
    <div class="container" id="english-container" style="display: none;">
        <!-- a - Alligator -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">a</div>
                    <div class="letter-name">a</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐊</div>
                    <div class="animal-name">Alligator</div>
                </div>
            </div>
        </div>

        <!-- b - Butterfly -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">b</div>
                    <div class="letter-name">b</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦋</div>
                    <div class="animal-name">Butterfly</div>
                </div>
            </div>
        </div>

        <!-- c - Cat -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">c</div>
                    <div class="letter-name">c</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐱</div>
                    <div class="animal-name">Cat</div>
                </div>
            </div>
        </div>

        <!-- d - Dog -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">d</div>
                    <div class="letter-name">d</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐕</div>
                    <div class="animal-name">Dog</div>
                </div>
            </div>
        </div>

        <!-- e - Elephant -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">e</div>
                    <div class="letter-name">e</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐘</div>
                    <div class="animal-name">Elephant</div>
                </div>
            </div>
        </div>

        <!-- f - Fish -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">f</div>
                    <div class="letter-name">f</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐟</div>
                    <div class="animal-name">Fish</div>
                </div>
            </div>
        </div>

        <!-- g - Goat -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">g</div>
                    <div class="letter-name">g</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐐</div>
                    <div class="animal-name">Goat</div>
                </div>
            </div>
        </div>

        <!-- h - Horse -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">h</div>
                    <div class="letter-name">h</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐴</div>
                    <div class="animal-name">Horse</div>
                </div>
            </div>
        </div>

        <!-- i - Iguana -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">i</div>
                    <div class="letter-name">i</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦎</div>
                    <div class="animal-name">Iguana</div>
                </div>
            </div>
        </div>

        <!-- j - Jellyfish -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">j</div>
                    <div class="letter-name">j</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🪼</div>
                    <div class="animal-name">Jellyfish</div>
                </div>
            </div>
        </div>

        <!-- k - Koala -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">k</div>
                    <div class="letter-name">k</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐨</div>
                    <div class="animal-name">Koala</div>
                </div>
            </div>
        </div>

        <!-- l - Lion -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">l</div>
                    <div class="letter-name">l</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦁</div>
                    <div class="animal-name">Lion</div>
                </div>
            </div>
        </div>

        <!-- m - Monkey -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">m</div>
                    <div class="letter-name">m</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐵</div>
                    <div class="animal-name">Monkey</div>
                </div>
            </div>
        </div>

        <!-- n - Narwhal -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">n</div>
                    <div class="letter-name">n</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐳</div>
                    <div class="animal-name">Narwhal</div>
                </div>
            </div>
        </div>

        <!-- o - Owl -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">o</div>
                    <div class="letter-name">o</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦉</div>
                    <div class="animal-name">Owl</div>
                </div>
            </div>
        </div>

        <!-- p - Penguin -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">p</div>
                    <div class="letter-name">p</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐧</div>
                    <div class="animal-name">Penguin</div>
                </div>
            </div>
        </div>

        <!-- q - Quail -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">q</div>
                    <div class="letter-name">q</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐦</div>
                    <div class="animal-name">Quail</div>
                </div>
            </div>
        </div>

        <!-- r - Rabbit -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">r</div>
                    <div class="letter-name">r</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐰</div>
                    <div class="animal-name">Rabbit</div>
                </div>
            </div>
        </div>

        <!-- s - Snake -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">s</div>
                    <div class="letter-name">s</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐍</div>
                    <div class="animal-name">Snake</div>
                </div>
            </div>
        </div>

        <!-- t - Tiger -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">t</div>
                    <div class="letter-name">t</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐯</div>
                    <div class="animal-name">Tiger</div>
                </div>
            </div>
        </div>

        <!-- u - Unicorn -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">u</div>
                    <div class="letter-name">u</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦄</div>
                    <div class="animal-name">Unicorn</div>
                </div>
            </div>
        </div>

        <!-- v - Vulture -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">v</div>
                    <div class="letter-name">v</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦅</div>
                    <div class="animal-name">Vulture</div>
                </div>
            </div>
        </div>

        <!-- w - Whale -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">w</div>
                    <div class="letter-name">w</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐋</div>
                    <div class="animal-name">Whale</div>
                </div>
            </div>
        </div>

        <!-- x - X-ray Fish -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">x</div>
                    <div class="letter-name">x</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐠</div>
                    <div class="animal-name">X-ray Fish</div>
                </div>
            </div>
        </div>

        <!-- y - Yak -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">y</div>
                    <div class="letter-name">y</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🐃</div>
                    <div class="animal-name">Yak</div>
                </div>
            </div>
        </div>

        <!-- z - Zebra -->
        <div class="card">
            <div class="card-inner">
                <div class="card-front">
                    <div class="letter">z</div>
                    <div class="letter-name">z</div>
                    <div class="hint">👆 Click</div>
                </div>
                <div class="card-back">
                    <div class="animal-emoji">🦓</div>
                    <div class="animal-name">Zebra</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Paint Numbers Container -->
    <div class="numbers-container" id="numbers-container" style="display: none;">
        <div class="paint-game">
            <div class="game-header">
                <h2>🎨 Paint by Numbers - لون بالأرقام 🎨</h2>
                <p>Choose a picture to paint!</p>
            </div>
            
            <!-- Picture Selection Menu -->
            <div id="picture-selection" class="picture-selection">
                <div class="picture-grid">
                    <div class="picture-card" onclick="selectPicture('butterfly')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <ellipse cx="50" cy="50" rx="8" ry="25" fill="#ddd" stroke="#000"/>
                                <path d="M 40 50 Q 25 35 30 25 Q 35 35 40 40 Z" fill="#ddd" stroke="#000"/>
                                <path d="M 60 50 Q 75 35 70 25 Q 65 35 60 40 Z" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🦋 Butterfly</h3>
                        <p>6 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('house')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <path d="M 20 50 L 50 25 L 80 50 Z" fill="#ddd" stroke="#000"/>
                                <rect x="25" y="50" width="50" height="40" fill="#ddd" stroke="#000"/>
                                <rect x="40" y="65" width="20" height="25" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🏠 House</h3>
                        <p>8 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('flower')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <circle cx="50" cy="40" r="6" fill="#ddd" stroke="#000"/>
                                <circle cx="42" cy="47" r="6" fill="#ddd" stroke="#000"/>
                                <circle cx="58" cy="47" r="6" fill="#ddd" stroke="#000"/>
                                <circle cx="50" cy="50" r="5" fill="#ddd" stroke="#000"/>
                                <rect x="48" y="50" width="4" height="30" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🌸 Flower</h3>
                        <p>6 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('car')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <rect x="20" y="50" width="60" height="25" fill="#ddd" stroke="#000" rx="5"/>
                                <path d="M 35 50 L 40 35 L 60 35 L 65 50 Z" fill="#ddd" stroke="#000"/>
                                <circle cx="33" cy="75" r="8" fill="#ddd" stroke="#000"/>
                                <circle cx="67" cy="75" r="8" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🚗 Car</h3>
                        <p>7 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('fish')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <ellipse cx="55" cy="50" rx="25" ry="15" fill="#ddd" stroke="#000"/>
                                <path d="M 30 50 L 20 40 L 20 60 Z" fill="#ddd" stroke="#000"/>
                                <circle cx="70" cy="47" r="3" fill="#000"/>
                            </svg>
                        </div>
                        <h3>🐟 Fish</h3>
                        <p>5 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('tree')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <circle cx="50" cy="35" r="20" fill="#ddd" stroke="#000"/>
                                <rect x="45" y="55" width="10" height="30" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🌳 Tree</h3>
                        <p>4 areas</p>
                    </div>
                    
                    <!-- NEW ADVANCED PICTURES -->
                    
                    <div class="picture-card" onclick="selectPicture('robot')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <rect x="35" y="25" width="30" height="25" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="42" cy="35" r="3" fill="#ddd" stroke="#000"/>
                                <circle cx="58" cy="35" r="3" fill="#ddd" stroke="#000"/>
                                <rect x="42" y="42" width="16" height="3" fill="#ddd" stroke="#000"/>
                                <rect x="40" y="50" width="20" height="20" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="30" y="55" width="10" height="12" fill="#ddd" stroke="#000"/>
                                <rect x="60" y="55" width="10" height="12" fill="#ddd" stroke="#000"/>
                                <rect x="45" y="70" width="5" height="15" fill="#ddd" stroke="#000"/>
                                <rect x="50" y="70" width="5" height="15" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🤖 Robot</h3>
                        <p>12 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('rocket')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <path d="M 50 15 L 40 35 L 60 35 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="40" y="35" width="20" height="30" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="50" cy="45" r="4" fill="#ddd" stroke="#000"/>
                                <circle cx="50" cy="55" r="3" fill="#ddd" stroke="#000"/>
                                <path d="M 40 65 L 30 80 L 40 75 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <path d="M 60 65 L 70 80 L 60 75 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="45" y="65" width="10" height="8" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🚀 Rocket</h3>
                        <p>10 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('castle')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <rect x="20" y="35" width="15" height="50" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="65" y="35" width="15" height="50" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="35" y="45" width="30" height="40" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="23" y="30" width="9" height="5" fill="#ddd" stroke="#000"/>
                                <rect x="68" y="30" width="9" height="5" fill="#ddd" stroke="#000"/>
                                <rect x="38" y="40" width="24" height="5" fill="#ddd" stroke="#000"/>
                                <path d="M 43 45 L 50 38 L 57 45 Z" fill="#ddd" stroke="#000"/>
                                <rect x="45" y="65" width="10" height="20" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🏰 Castle</h3>
                        <p>11 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('boat')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <path d="M 25 70 L 35 55 L 65 55 L 75 70 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <rect x="48" y="30" width="4" height="25" fill="#ddd" stroke="#000"/>
                                <path d="M 50 30 L 50 45 L 65 35 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="35" cy="62" r="3" fill="#ddd" stroke="#000"/>
                                <circle cx="65" cy="62" r="3" fill="#ddd" stroke="#000"/>
                                <path d="M 20 70 L 80 70 L 75 75 L 25 75 Z" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>⛵ Boat</h3>
                        <p>9 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('sun')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <circle cx="50" cy="50" r="15" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <line x1="50" y1="20" x2="50" y2="30" stroke="#ddd" stroke-width="3"/>
                                <line x1="50" y1="70" x2="50" y2="80" stroke="#ddd" stroke-width="3"/>
                                <line x1="20" y1="50" x2="30" y2="50" stroke="#ddd" stroke-width="3"/>
                                <line x1="70" y1="50" x2="80" y2="50" stroke="#ddd" stroke-width="3"/>
                                <line x1="28" y1="28" x2="35" y2="35" stroke="#ddd" stroke-width="3"/>
                                <line x1="72" y1="28" x2="65" y2="35" stroke="#ddd" stroke-width="3"/>
                                <line x1="28" y1="72" x2="35" y2="65" stroke="#ddd" stroke-width="3"/>
                                <line x1="72" y1="72" x2="65" y2="65" stroke="#ddd" stroke-width="3"/>
                            </svg>
                        </div>
                        <h3>☀️ Sun</h3>
                        <p>9 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('owl')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <ellipse cx="50" cy="50" rx="20" ry="25" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="42" cy="45" r="6" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="58" cy="45" r="6" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="42" cy="45" r="3" fill="#ddd" stroke="#000"/>
                                <circle cx="58" cy="45" r="3" fill="#ddd" stroke="#000"/>
                                <path d="M 45 52 L 50 56 L 55 52 Z" fill="#ddd" stroke="#000"/>
                                <path d="M 30 35 L 35 40 L 40 38 Z" fill="#ddd" stroke="#000"/>
                                <path d="M 70 35 L 65 40 L 60 38 Z" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🦉 Owl</h3>
                        <p>10 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('rainbow')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <path d="M 15 70 Q 50 20 85 70" fill="none" stroke="#ddd" stroke-width="8"/>
                                <path d="M 20 70 Q 50 28 80 70" fill="none" stroke="#ddd" stroke-width="6"/>
                                <path d="M 25 70 Q 50 35 75 70" fill="none" stroke="#ddd" stroke-width="6"/>
                                <path d="M 30 70 Q 50 42 70 70" fill="none" stroke="#ddd" stroke-width="6"/>
                                <path d="M 35 70 Q 50 48 65 70" fill="none" stroke="#ddd" stroke-width="6"/>
                                <circle cx="20" cy="75" r="5" fill="#ddd" stroke="#000"/>
                                <circle cx="80" cy="75" r="5" fill="#ddd" stroke="#000"/>
                            </svg>
                        </div>
                        <h3>🌈 Rainbow</h3>
                        <p>8 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('cat')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <ellipse cx="50" cy="55" rx="18" ry="22" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="50" cy="40" r="13" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <path d="M 38 32 L 35 22 L 42 30 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <path d="M 62 32 L 65 22 L 58 30 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="45" cy="38" r="2" fill="#ddd" stroke="#000"/>
                                <circle cx="55" cy="38" r="2" fill="#ddd" stroke="#000"/>
                                <path d="M 47 43 L 50 46 L 53 43" fill="none" stroke="#ddd" stroke-width="2"/>
                                <line x1="35" y1="42" x2="25" y2="40" stroke="#ddd" stroke-width="1.5"/>
                                <line x1="65" y1="42" x2="75" y2="40" stroke="#ddd" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <h3>🐱 Cat</h3>
                        <p>12 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('pizza')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <path d="M 30 70 L 50 25 L 70 70 Z" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <circle cx="45" cy="50" r="4" fill="#ddd" stroke="#000"/>
                                <circle cx="55" cy="45" r="4" fill="#ddd" stroke="#000"/>
                                <circle cx="50" cy="60" r="4" fill="#ddd" stroke="#000"/>
                                <ellipse cx="40" cy="58" rx="3" ry="2" fill="#ddd" stroke="#000"/>
                                <ellipse cx="58" cy="55" rx="3" ry="2" fill="#ddd" stroke="#000"/>
                                <path d="M 35 68 Q 50 30 65 68" fill="none" stroke="#ddd" stroke-width="3"/>
                            </svg>
                        </div>
                        <h3>🍕 Pizza</h3>
                        <p>8 areas</p>
                    </div>
                    
                    <div class="picture-card" onclick="selectPicture('balloon')">
                        <div class="picture-preview">
                            <svg viewBox="0 0 100 100" width="100%" height="100%">
                                <ellipse cx="45" cy="35" rx="12" ry="18" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <path d="M 45 53 Q 47 58 46 62" fill="none" stroke="#ddd" stroke-width="2"/>
                                <rect x="43" y="62" width="4" height="3" fill="#ddd" stroke="#000"/>
                                <line x1="45" y1="65" x2="35" y2="80" stroke="#ddd" stroke-width="1.5"/>
                                <path d="M 40 48 L 45 45 L 50 48" fill="none" stroke="#fff" stroke-width="2" opacity="0.6"/>
                                <ellipse cx="60" cy="42" rx="10" ry="14" fill="#ddd" stroke="#000" stroke-width="2"/>
                                <path d="M 60 56 Q 61 60 60 63" fill="none" stroke="#ddd" stroke-width="2"/>
                                <rect x="58" y="63" width="4" height="3" fill="#ddd" stroke="#000"/>
                                <line x1="60" y1="66" x2="50" y2="80" stroke="#ddd" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <h3>🎈 Balloons</h3>
                        <p>8 areas</p>
                    </div>
                </div>
            </div>
            
            <!-- Painting Area (Hidden initially) -->
            <div id="painting-area" style="display: none;">
                <div class="back-button-container">
                    <button class="control-btn" onclick="backToSelection()">⬅️ Choose Another Picture</button>
                </div>
                
                <h3 id="current-picture-title" style="text-align: center; color: #667eea; margin: 20px 0;">🦋 Butterfly</h3>
                
                <div class="color-palette" id="color-palette">
                    <button class="palette-color" data-number="1" data-color="#FF0000" style="background: #FF0000;">1</button>
                    <button class="palette-color" data-number="2" data-color="#0000FF" style="background: #0000FF;">2</button>
                    <button class="palette-color" data-number="3" data-color="#00FF00" style="background: #00FF00;">3</button>
                    <button class="palette-color" data-number="4" data-color="#FFFF00" style="background: #FFFF00;">4</button>
                    <button class="palette-color" data-number="5" data-color="#FFA500" style="background: #FFA500;">5</button>
                    <button class="palette-color" data-number="6" data-color="#800080" style="background: #800080;">6</button>
                    <button class="palette-color" data-number="7" data-color="#FFC0CB" style="background: #FFC0CB;">7</button>
                    <button class="palette-color" data-number="8" data-color="#8B4513" style="background: #8B4513;">8</button>
                </div>
                
                <div class="canvas-container">
                    <svg id="paint-canvas" viewBox="0 0 400 400" width="100%" height="100%">
                        <!-- SVG content will be loaded dynamically -->
                    </svg>
                </div>
                
                <div class="game-controls">
                    <button class="control-btn" onclick="resetPainting()">🔄 Reset Colors</button>
                    <button class="control-btn" onclick="checkCompletion()">✅ Check if Done</button>
                </div>
                
                <div class="game-feedback" id="paint-feedback"></div>
            </div>
        </div>
    </div>

    <!-- Memory Game Container -->
    <div class="memory-container" id="memory-container" style="display: none;">
        <div class="memory-game">
            
            <!-- Start Screen -->
            <div class="memory-start" id="memory-start">
                <div class="start-card">
                    <div class="big-emoji">🎮</div>
                    <h3>جاهز للعب؟</h3>
                    <p>ستشاهد ٥ بطاقات حيوانات. حاول أن تتذكرها!</p>
                    <p style="font-size: 0.9em; color: #7f8c8d; margin-top: 5px;">You will see 5 animal cards. Try to remember them!</p>
                    <button class="start-game-btn" onclick="startMemoryGame()">🚀 ابدأ اللعبة</button>
                </div>
            </div>
            
            <!-- Game Area -->
            <div class="memory-play" id="memory-play" style="display: none;">
                <div class="memory-header">
                    <div class="score-display">
                        <span class="score-label">✅ صحيح:</span>
                        <span class="score-value" id="correct-count">0</span>
                    </div>
                    <div class="target-display" id="target-display">
                        <span class="target-label">🎯 ابحث عن:</span>
                        <span class="target-emoji" id="target-emoji">🦁</span>
                        <span class="target-name" id="target-name">أسد</span>
                    </div>
                    <div class="tries-display">
                        <span class="tries-label">❌ محاولات:</span>
                        <span class="tries-value" id="tries-count">0</span>
                    </div>
                </div>
                
                <div class="memory-cards-grid" id="memory-cards-grid">
                    <!-- Cards will be generated here -->
                </div>
                
                <div class="memory-feedback" id="memory-feedback"></div>
                
                <button class="control-btn" onclick="resetMemoryGame()" style="margin-top: 20px;">🔄 لعبة جديدة</button>
            </div>
        </div>
    </div>

    <!-- Arabic Number Ordering Game -->
    <div class="ordering-container" id="order-arabic-container" style="display: none;">
        <div class="ordering-game">
            <div class="game-header">
                <h2>🔢 رتب الأرقام العربية 🔢</h2>
                <p>اسحب الأرقام لترتيبها من ١ إلى ١٠</p>
            </div>
            
            <div class="ordering-status">
                <div class="status-message" id="arabic-status">ابدأ بترتيب الأرقام!</div>
            </div>
            
            <div class="ordering-area">
                <div class="ordering-slots" id="arabic-slots">
                    <!-- Slots will be generated here -->
                </div>
                
                <div class="ordering-pieces-container">
                    <h3>اسحب الأرقام من هنا:</h3>
                    <div class="ordering-pieces" id="arabic-pieces">
                        <!-- Draggable numbers will be generated here -->
                    </div>
                </div>
            </div>
            
            <button class="control-btn" onclick="resetArabicOrdering()">🔄 ابدأ من جديد</button>
        </div>
    </div>

    <!-- English Number Ordering Game -->
    <div class="ordering-container" id="order-english-container" style="display: none;">
        <div class="ordering-game">
            <div class="game-header">
                <h2>🔢 رتب الأرقام الإنجليزية 🔢</h2>
                <p>اسحب الأرقام لترتيبها من 1 إلى 10</p>
                <p style="font-size: 0.9em; color: #7f8c8d;">Drag the numbers to put them in order from 1 to 10</p>
            </div>
            
            <div class="ordering-status">
                <div class="status-message" id="english-status">ابدأ بترتيب الأرقام!</div>
            </div>
            
            <div class="ordering-area">
                <div class="ordering-slots" id="english-slots">
                    <!-- Slots will be generated here -->
                </div>
                
                <div class="ordering-pieces-container">
                    <h3>اسحب الأرقام من هنا:</h3>
                    <p style="font-size: 0.9em; color: #7f8c8d;">Drag numbers from here</p>
                    <div class="ordering-pieces" id="english-pieces">
                        <!-- Draggable numbers will be generated here -->
                    </div>
                </div>
            </div>
            
            <button class="control-btn" onclick="resetEnglishOrdering()">🔄 ابدأ من جديد</button>
        </div>
    </div>

    <!-- Arabic Counting Game -->
    <div class="counting-container" id="count-arabic-container" style="display: none;">
        <div class="counting-game">
            <div class="game-header">
                <h2>🍎 عد الفواكه والخضروات 🥕</h2>
                <p>كم عدد الفواكه أو الخضروات؟ اختر الرقم الصحيح!</p>
            </div>
            
            <div class="counting-score">
                <div class="score-display">النقاط: <span id="arabic-count-score">0</span> / 10 🌟</div>
            </div>
            
            <div class="counting-card" id="arabic-counting-card">
                <!-- Card will be generated here -->
            </div>
            
            <div class="counting-options">
                <h3>اختر الرقم الصحيح:</h3>
                <div class="number-buttons" id="arabic-number-buttons">
                    <!-- Number buttons will be generated here -->
                </div>
            </div>
            
            <button class="control-btn" onclick="nextArabicCounting()">التالي ➡️</button>
        </div>
    </div>

    <!-- English Counting Game -->
    <div class="counting-container" id="count-english-container" style="display: none;">
        <div class="counting-game">
            <div class="game-header">
                <h2>🍎 Count Fruits and Vegetables 🥕</h2>
                <p>How many fruits or vegetables? Choose the correct number!</p>
            </div>
            
            <div class="counting-score">
                <div class="score-display">Score: <span id="english-count-score">0</span> / 10 🌟</div>
            </div>
            
            <div class="counting-card" id="english-counting-card">
                <!-- Card will be generated here -->
            </div>
            
            <div class="counting-options">
                <h3>Choose the correct number:</h3>
                <div class="number-buttons" id="english-number-buttons">
                    <!-- Number buttons will be generated here -->
                </div>
            </div>
            
            <button class="control-btn" onclick="nextEnglishCounting()">Next ➡️</button>
        </div>
    </div>

    <!-- Coin Math Game -->
    <div class="coin-math-container" id="coin-math-container" style="display: none;">
        <div class="coin-math-game">
            
            <div class="coin-score">
                <div class="score-display">Score: <span id="coin-score">0</span> ⭐</div>
            </div>
            
            <!-- Math Problem Display -->
            <div class="math-problem">
                <div class="coin-group">
                    <div class="coins-display" id="first-group"></div>
                    <div class="group-number" id="first-number"></div>
                </div>
                
                <div class="math-operator">+</div>
                
                <div class="coin-group">
                    <div class="coins-display" id="second-group"></div>
                    <div class="group-number" id="second-number"></div>
                </div>
                
                <div class="math-operator">=</div>
                
                <div class="math-answer">?</div>
            </div>
            
            <!-- Answer Options and Treasure Box Side by Side -->
            <div class="answer-and-box-container">
                <div class="answer-options">
                    <div class="answer-buttons" id="answer-buttons"></div>
                </div>
                
                <!-- Treasure Box beside answers -->
                <div class="treasure-box-container">
                    <div class="treasure-box" id="treasure-box">
                        <div class="box-lid"></div>
                        <div class="box-body">
                            <div class="coin-count">🪙 <span id="box-coin-count">0</span></div>
                            <div class="box-coins" id="box-coins"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lunch Box Packing Game Container -->
    <div class="lunch-box-game-container" id="lunch-box-container" style="display: none;">
        <div class="lunch-game-content">
            
            <!-- Main Container: 3D Lunch Box + Food Selection -->
            <div class="lunch-main-container">
                
                <!-- Left Side: 3D Lunch Box -->
                <div class="lunch-box-side">
                    <div class="css-lunchbox-3d" id="css-lunchbox">
                        <div class="lunch-box-lid">
                            <div class="lid-handle"></div>
                        </div>
                        <div class="lunch-box-container-3d">
                            <div class="lunch-box-inner">
                                <div class="food-items-display" id="food-items-display">
                                    <!-- Selected food emojis will appear here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="lunch-action-buttons">
                        <button class="check-lunch-btn-new" onclick="checkLunchBox()">✓ تحقق</button>
                        <button class="reset-lunch-btn-new" onclick="resetLunchBox()">🔄 إعادة</button>
                    </div>
                    
                    <!-- Feedback -->
                    <div class="lunch-feedback-new" id="lunch-feedback"></div>
                </div>
                
                <!-- Right Side: Food Selection in 2 Columns -->
                <div class="food-selection-side">
                    <h3 class="food-selection-title">اختر طعامك 🍽️</h3>
                    
                    <div class="food-columns">
                        <!-- Column 1 -->
                        <div class="food-column">
                            <div class="food-items-grid" id="food-column-1">
                                <!-- Foods will be added by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Column 2 -->
                        <div class="food-column">
                            <div class="food-items-grid" id="food-column-2">
                                <!-- Foods will be added by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
            <!-- Teeth Health Display -->
            <div class="teeth-display" id="teeth-display" style="display: none;">
                <div class="teeth-warning">
                    <h2>⚠️ تحذير: السكر يضر أسنانك! ⚠️</h2>
                    <div class="mouth-container">
                        <div class="child-mouth">
                            <div class="upper-teeth" id="upper-teeth"></div>
                            <div class="lower-teeth" id="lower-teeth"></div>
                        </div>
                    </div>
                    <p class="teeth-message-ar">اختر خيارات صحية!</p>
                    <button class="try-again-btn" onclick="resetLunchBox()">حاول مرة أخرى! 🔄</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Win Screen Overlay for Counting Games -->
    <div id="counting-win-screen" class="win-screen-overlay" style="display: none;">
        <div class="win-confetti" id="win-confetti"></div>
        <div class="win-fireworks" id="win-fireworks"></div>
        <div class="win-screen-content">
            <div class="win-trophy">🏆</div>
            <h1 class="win-title" id="win-title">YOU WON!</h1>
            <p class="win-subtitle" id="win-subtitle">🎉 Amazing Job! 🎉</p>
            <div class="win-score-display" id="win-score-display">10 / 10 ⭐</div>
            <div class="win-stars">
                <span>⭐</span>
                <span>🌟</span>
                <span>✨</span>
                <span>🌟</span>
                <span>⭐</span>
            </div>
            <p class="win-message" id="win-message">
                You counted 10 fruits and vegetables correctly!<br>
                You're a super counting champion! 🥇
            </p>
            <div class="win-buttons">
                <button class="win-btn win-btn-play" id="win-play-again" onclick="playCountingAgain()">
                    🔄 Play Again
                </button>
                <button class="win-btn win-btn-menu" onclick="goToMainMenu()">
                    🏠 Main Menu
                </button>
            </div>
        </div>
    </div>

    <script>
        // Paint by numbers variables
        let selectedColor = null;
        let selectedNumber = null;
        let paintedAreas = new Set();
        let currentPicture = '';
        
        // Coin Math Game Variables
        const bankShapes = [
            {
                name: 'piggy',
                emoji: '🐷',
                color: '#ff69b4',
                lightColor: '#ffb6d9',
                borderColor: '#ff1493',
                feature: '👃'
            },
            {
                name: 'bunny',
                emoji: '🐰',
                color: '#ffd6e7',
                lightColor: '#ffe6f0',
                borderColor: '#ff69b4',
                feature: '🦷'
            },
            {
                name: 'bear',
                emoji: '🐻',
                color: '#d2691e',
                lightColor: '#deb887',
                borderColor: '#8b4513',
                feature: '🍯'
            },
            {
                name: 'frog',
                emoji: '🐸',
                color: '#90ee90',
                lightColor: '#b4f5b4',
                borderColor: '#228b22',
                feature: '👅'
            },
            {
                name: 'duck',
                emoji: '🦆',
                color: '#ffd700',
                lightColor: '#ffed4e',
                borderColor: '#ffa500',
                feature: '🪶'
            },
            {
                name: 'cat',
                emoji: '🐱',
                color: '#dda0dd',
                lightColor: '#f0c8f0',
                borderColor: '#9370db',
                feature: '🐾'
            }
        ];
        
        let coinMathScore = 0;
        let boxCoinCount = 0;
        let currentFirstNum = 0;
        let currentSecondNum = 0;
        let currentCorrectAnswer = 0;
        let coinAnswered = false;
        let currentBankShape = null;
        
        function generateCoinProblem() {
            coinAnswered = false;
            
            // Generate random numbers between 1 and 5
            currentFirstNum = Math.floor(Math.random() * 5) + 1;
            currentSecondNum = Math.floor(Math.random() * 5) + 1;
            currentCorrectAnswer = currentFirstNum + currentSecondNum;
            
            // Display first group of coins
            const firstGroup = document.getElementById('first-group');
            firstGroup.innerHTML = '';
            for (let i = 0; i < currentFirstNum; i++) {
                const coin = document.createElement('div');
                coin.className = 'golden-coin';
                coin.textContent = '🪙';
                coin.style.animationDelay = (i * 0.1) + 's';
                firstGroup.appendChild(coin);
            }
            document.getElementById('first-number').textContent = currentFirstNum;
            
            // Display second group of coins
            const secondGroup = document.getElementById('second-group');
            secondGroup.innerHTML = '';
            for (let i = 0; i < currentSecondNum; i++) {
                const coin = document.createElement('div');
                coin.className = 'golden-coin';
                coin.textContent = '🪙';
                coin.style.animationDelay = (i * 0.1) + 's';
                secondGroup.appendChild(coin);
            }
            document.getElementById('second-number').textContent = currentSecondNum;
            
            // Generate answer options
            generateAnswerOptions();
        }
        
        function generateAnswerOptions() {
            const buttonsContainer = document.getElementById('answer-buttons');
            buttonsContainer.innerHTML = '';
            
            // Create options including correct answer and some wrong ones
            const options = new Set();
            options.add(currentCorrectAnswer);
            
            // Add 4 more wrong answers
            while (options.size < 5) {
                const wrongAnswer = Math.floor(Math.random() * 10) + 1;
                if (wrongAnswer !== currentCorrectAnswer) {
                    options.add(wrongAnswer);
                }
            }
            
            // Convert to array and shuffle
            const optionsArray = Array.from(options).sort(() => Math.random() - 0.5);
            
            optionsArray.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = option;
                btn.onclick = () => checkCoinAnswer(option, btn);
                buttonsContainer.appendChild(btn);
            });
        }
        
        function checkCoinAnswer(selected, btn) {
            if (coinAnswered) return;
            
            coinAnswered = true;
            const allButtons = document.querySelectorAll('.answer-btn');
            
            if (selected === currentCorrectAnswer) {
                btn.classList.add('correct');
                coinMathScore++;
                document.getElementById('coin-score').textContent = coinMathScore;
                
                // Add coins to treasure box
                addCoinsToBox(currentCorrectAnswer);
                playSuccessSound();
                
                allButtons.forEach(b => b.disabled = true);
                
                // Auto-navigate to next problem after animation completes
                const animationDuration = currentCorrectAnswer * 150 + 1000; // Time for coins to fall + box close
                setTimeout(() => {
                    generateCoinProblem();
                }, animationDuration);
            } else {
                btn.classList.add('wrong');
                
                // Remove coins from treasure box
                const coinsToRemove = Math.min(selected, boxCoinCount);
                removeCoinsFromBox(coinsToRemove);
                playErrorSound();
                
                setTimeout(() => {
                    btn.classList.remove('wrong');
                    coinAnswered = false;
                }, 800);
            }
        }
        
        function addCoinsToBox(count) {
            const boxCoins = document.getElementById('box-coins');
            const treasureBox = document.querySelector('.treasure-box');
            
            // Open the box
            treasureBox.classList.add('open');
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const coin = document.createElement('div');
                    coin.className = 'box-coin adding';
                    coin.textContent = '🪙';
                    boxCoins.appendChild(coin);
                    
                    boxCoinCount++;
                    document.getElementById('box-coin-count').textContent = boxCoinCount;
                    
                    // Play coin sound
                    playCoinSound();
                    
                    // Check if reached 50 coins
                    if (boxCoinCount === 50) {
                        setTimeout(() => {
                            show50CoinPrize();
                        }, 1000);
                    }
                }, i * 150);
            }
            
            // Close the box after all coins are added
            setTimeout(() => {
                treasureBox.classList.remove('open');
            }, count * 150 + 500);
        }
        
        function removeCoinsFromBox(count) {
            if (boxCoinCount === 0) return;
            
            const boxCoins = document.getElementById('box-coins');
            const treasureBox = document.querySelector('.treasure-box');
            const coins = boxCoins.querySelectorAll('.box-coin');
            
            // Open the box
            treasureBox.classList.add('open');
            
            const coinsToRemove = Math.min(count, coins.length);
            
            for (let i = 0; i < coinsToRemove; i++) {
                setTimeout(() => {
                    if (coins[coins.length - 1 - i]) {
                        coins[coins.length - 1 - i].classList.add('removing');
                        
                        setTimeout(() => {
                            if (coins[coins.length - 1 - i]) {
                                coins[coins.length - 1 - i].remove();
                            }
                        }, 600);
                        
                        boxCoinCount--;
                        document.getElementById('box-coin-count').textContent = boxCoinCount;
                    }
                }, i * 150);
            }
            
            // Close the box after all coins are removed
            setTimeout(() => {
                treasureBox.classList.remove('open');
            }, coinsToRemove * 150 + 800);
        }
        
        function playCoinSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 1200;
            osc.type = 'sine';
            
            gain.gain.setValueAtTime(0.15, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.1);
        }
        
        function selectRandomBank() {
            currentBankShape = bankShapes[Math.floor(Math.random() * bankShapes.length)];
            applyBankStyle();
        }
        
        function applyBankStyle() {
            const root = document.documentElement;
            root.style.setProperty('--bank-color', currentBankShape.color);
            root.style.setProperty('--bank-light-color', currentBankShape.lightColor);
            root.style.setProperty('--bank-border-color', currentBankShape.borderColor);
            
            // Update emoji in CSS (nose/feature removed for cleaner look)
            const style = document.createElement('style');
            style.id = 'bank-style';
            const existingStyle = document.getElementById('bank-style');
            if (existingStyle) {
                existingStyle.remove();
            }
            
            style.textContent = `
                .box-lid::before {
                    content: '${currentBankShape.emoji}' !important;
                }
                .box-lid {
                    background: linear-gradient(135deg, ${currentBankShape.color} 0%, ${currentBankShape.lightColor} 50%, ${currentBankShape.color} 100%) !important;
                    border-color: ${currentBankShape.borderColor} !important;
                }
                .box-body {
                    background: linear-gradient(135deg, ${currentBankShape.color} 0%, ${currentBankShape.lightColor} 50%, ${currentBankShape.color} 100%) !important;
                    border-color: ${currentBankShape.borderColor} !important;
                }
                .treasure-box::before,
                .treasure-box::after {
                    background: linear-gradient(135deg, ${currentBankShape.color}, ${currentBankShape.lightColor}) !important;
                    border-color: ${currentBankShape.borderColor} !important;
                }
                .box-body::after {
                    border-color: ${currentBankShape.borderColor} !important;
                }
            `;
            document.head.appendChild(style);
        }
        
        function show50CoinPrize() {
            // Create prize overlay
            const overlay = document.createElement('div');
            overlay.className = 'coin-prize-overlay';
            overlay.innerHTML = `
                <div class="prize-content">
                    <h1 class="prize-title">🎉 AMAZING! 🎉</h1>
                    <div class="prize-message">You collected 50 coins!</div>
                    <div class="money-prize">💰 $100 Prize! 💰</div>
                    <div class="prize-emojis">
                        🪙💰🏆✨🌟💎🎊🎁💵💴💶💷
                    </div>
                    <button class="new-game-btn" onclick="startNewCoinGame()">🎮 Start New Game 🎮</button>
                </div>
            `;
            document.body.appendChild(overlay);
            
            // Play success sound
            playSuccessSound();
            
            // Create money falling animation
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const money = document.createElement('div');
                    money.className = 'falling-money';
                    money.textContent = ['💰', '💵', '💴', '💶', '💷', '🪙'][Math.floor(Math.random() * 6)];
                    money.style.left = Math.random() * 100 + '%';
                    money.style.animationDelay = Math.random() * 2 + 's';
                    money.style.fontSize = (2 + Math.random() * 2) + 'em';
                    overlay.appendChild(money);
                }, i * 100);
            }
        }
        
        function startNewCoinGame() {
            // Remove prize overlay
            const overlay = document.querySelector('.coin-prize-overlay');
            if (overlay) {
                overlay.remove();
            }
            
            // Reset game
            boxCoinCount = 0;
            coinMathScore = 0;
            document.getElementById('box-coin-count').textContent = '0';
            document.getElementById('coin-score').textContent = '0';
            document.getElementById('box-coins').innerHTML = '';
            
            // Select new random bank
            selectRandomBank();
            
            // Generate new problem
            generateCoinProblem();
        }
        
        function nextCoinProblem() {
            generateCoinProblem();
        }
        
        // Lunch Box Packing Game Variables and Functions
        const lunchBoxSlots = {
            fruit: null,
            vegetable: null,
            protein: null,
            snack: null
        };

        const foodDatabase = {
            fruits: [
                { emoji: '🍎', name: 'Apple', arabic: 'تفاحة', healthy: true },
                { emoji: '🍊', name: 'Orange', arabic: 'برتقالة', healthy: true },
                { emoji: '🍌', name: 'Banana', arabic: 'موز', healthy: true },
                { emoji: '🍇', name: 'Grapes', arabic: 'عنب', healthy: true },
                { emoji: '🍓', name: 'Strawberry', arabic: 'فراولة', healthy: true },
                { emoji: '🍉', name: 'Watermelon', arabic: 'بطيخ', healthy: true },
                { emoji: '🍑', name: 'Peach', arabic: 'خوخ', healthy: true },
                { emoji: '🍒', name: 'Cherry', arabic: 'كرز', healthy: true },
                { emoji: '🥝', name: 'Kiwi', arabic: 'كيوي', healthy: true },
                { emoji: '🍍', name: 'Pineapple', arabic: 'أناناس', healthy: true },
                { emoji: '🥭', name: 'Mango', arabic: 'مانجو', healthy: true },
                { emoji: '🍐', name: 'Pear', arabic: 'كمثرى', healthy: true }
            ],
            vegetables: [
                { emoji: '🥕', name: 'Carrot', arabic: 'جزر', healthy: true },
                { emoji: '🥦', name: 'Broccoli', arabic: 'بروكلي', healthy: true },
                { emoji: '🥬', name: 'Lettuce', arabic: 'خس', healthy: true },
                { emoji: '🍅', name: 'Tomato', arabic: 'طماطم', healthy: true },
                { emoji: '🥒', name: 'Cucumber', arabic: 'خيار', healthy: true },
                { emoji: '🌽', name: 'Corn', arabic: 'ذرة', healthy: true },
                { emoji: '🫑', name: 'Pepper', arabic: 'فلفل', healthy: true },
                { emoji: '🧅', name: 'Onion', arabic: 'بصل', healthy: true },
                { emoji: '🥔', name: 'Potato', arabic: 'بطاطا', healthy: true },
                { emoji: '🍆', name: 'Eggplant', arabic: 'باذنجان', healthy: true },
                { emoji: '🫛', name: 'Peas', arabic: 'بازلاء', healthy: true },
                { emoji: '🌶️', name: 'Chili', arabic: 'فلفل حار', healthy: true }
            ],
            proteins: [
                { emoji: '🍗', name: 'Chicken', arabic: 'دجاج', healthy: true },
                { emoji: '🥚', name: 'Egg', arabic: 'بيض', healthy: true },
                { emoji: '🐟', name: 'Fish', arabic: 'سمك', healthy: true },
                { emoji: '🥩', name: 'Meat', arabic: 'لحم', healthy: true },
                { emoji: '🧀', name: 'Cheese', arabic: 'جبن', healthy: true },
                { emoji: '🥜', name: 'Peanuts', arabic: 'فول سوداني', healthy: true },
                { emoji: '🫘', name: 'Beans', arabic: 'فول', healthy: true },
                { emoji: '🍤', name: 'Shrimp', arabic: 'جمبري', healthy: true }
            ],
            healthySnacks: [
                { emoji: '🥜', name: 'Nuts', arabic: 'مكسرات', healthy: true },
                { emoji: '🍿', name: 'Popcorn', arabic: 'فشار', healthy: true },
                { emoji: '🥛', name: 'Milk', arabic: 'حليب', healthy: true },
                { emoji: '🧃', name: 'Juice', arabic: 'عصير', healthy: true },
                { emoji: '🥨', name: 'Pretzel', arabic: 'كعك', healthy: true },
                { emoji: '🍯', name: 'Honey', arabic: 'عسل', healthy: true },
                { emoji: '🥖', name: 'Bread', arabic: 'خبز', healthy: true }
            ],
            unhealthySnacks: [
                { emoji: '🍭', name: 'Lollipop', arabic: 'مصاصة', healthy: false },
                { emoji: '🍫', name: 'Chocolate', arabic: 'شوكولاتة', healthy: false },
                { emoji: '🍬', name: 'Candy', arabic: 'حلوى', healthy: false },
                { emoji: '🍩', name: 'Donut', arabic: 'دونات', healthy: false },
                { emoji: '🍪', name: 'Cookie', arabic: 'بسكويت', healthy: false },
                { emoji: '🎂', name: 'Cake', arabic: 'كعكة', healthy: false },
                { emoji: '🧁', name: 'Cupcake', arabic: 'كب كيك', healthy: false },
                { emoji: '🍦', name: 'Ice Cream', arabic: 'آيس كريم', healthy: false },
                { emoji: '🥤', name: 'Soda', arabic: 'صودا', healthy: false },
                { emoji: '🍟', name: 'Fries', arabic: 'بطاطس مقلية', healthy: false },
                { emoji: '🥐', name: 'Croissant', arabic: 'كرواسون', healthy: false },
                { emoji: '🍕', name: 'Pizza', arabic: 'بيتزا', healthy: false },
                { emoji: '🌭', name: 'Hot Dog', arabic: 'هوت دوج', healthy: false },
                { emoji: '🍔', name: 'Burger', arabic: 'برجر', healthy: false },
                { emoji: '🥓', name: 'Bacon', arabic: 'بيكون', healthy: false },
                { emoji: '🍰', name: 'Cake Slice', arabic: 'قطعة كعكة', healthy: false },
                { emoji: '🧇', name: 'Waffle', arabic: 'وافل', healthy: false },
                { emoji: '🥞', name: 'Pancakes', arabic: 'بان كيك', healthy: false },
                { emoji: '🍮', name: 'Pudding', arabic: 'بودنج', healthy: false },
                { emoji: '🍡', name: 'Dango', arabic: 'دانجو', healthy: false }
            ]
        };

        function openLunchBoxOverlay() {
            const overlay = document.getElementById('lunchbox-overlay');
            overlay.style.display = 'flex';
            
            // Close when clicking outside the lunch box (on dark background)
            overlay.onclick = function(e) {
                if (e.target === overlay) {
                    closeLunchBoxOverlay();
                }
            };
            
            playSuccessSound();
        }

        function closeLunchBoxOverlay() {
            document.getElementById('lunchbox-overlay').style.display = 'none';
        }

        function initializeLunchBoxGame() {
            // Reset all stored foods
            selectedFoods = [];
            
            // Clear lunch box display
            document.getElementById('food-items-display').innerHTML = '';
            
            // Clear feedback
            const feedback = document.getElementById('lunch-feedback');
            feedback.textContent = '';
            feedback.className = 'lunch-feedback-new';
            
            // Hide teeth display
            document.getElementById('teeth-display').style.display = 'none';
            
            // Combine all foods into 2 columns (mixed healthy/unhealthy)
            const allFoods = [
                ...foodDatabase.fruits,
                ...foodDatabase.vegetables,
                ...foodDatabase.proteins,
                ...foodDatabase.healthySnacks,
                ...foodDatabase.unhealthySnacks
            ];
            
            // Shuffle for variety
            const shuffled = allFoods.sort(() => Math.random() - 0.5);
            
            // Split into 2 columns
            const midpoint = Math.ceil(shuffled.length / 2);
            const column1Foods = shuffled.slice(0, midpoint);
            const column2Foods = shuffled.slice(midpoint);
            
            // Populate columns
            populateColumn('food-column-1', column1Foods);
            populateColumn('food-column-2', column2Foods);
        }

        function populateColumn(columnId, foods) {
            const column = document.getElementById(columnId);
            column.innerHTML = '';
            
            foods.forEach(food => {
                const foodCard = document.createElement('div');
                foodCard.className = `food-item-card ${food.healthy ? '' : 'unhealthy'}`;
                foodCard.innerHTML = `
                    <div class="food-emoji">${food.emoji}</div>
                    <div class="food-name">${food.arabic}</div>
                `;
                foodCard.onclick = () => selectFoodItem(food, foodCard);
                column.appendChild(foodCard);
            });
        }

        let selectedFoods = [];
        const MAX_FOODS = 4;

        function selectFoodItem(food, foodCard) {
            // Check if already at max
            if (selectedFoods.length >= MAX_FOODS && !foodCard.classList.contains('selected')) {
                const feedback = document.getElementById('lunch-feedback');
                feedback.textContent = '❌ الحقيبة ممتلئة! (4 عناصر فقط)';
                feedback.className = 'lunch-feedback-new error';
                playErrorSound();
                
                // Scroll to lunch box to show it's full
                scrollToLunchBox();
                
                setTimeout(() => {
                    feedback.textContent = '';
                    feedback.className = 'lunch-feedback-new';
                }, 2000);
                return;
            }
            
            // Toggle selection
            if (foodCard.classList.contains('selected')) {
                // Deselect
                foodCard.classList.remove('selected');
                selectedFoods = selectedFoods.filter(f => f.emoji !== food.emoji);
            } else {
                // Select
                foodCard.classList.add('selected');
                selectedFoods.push(food);
                playSuccessSound();
                
                // If reached 4 items, scroll to lunch box
                if (selectedFoods.length === MAX_FOODS) {
                    setTimeout(() => {
                        scrollToLunchBox();
                    }, 300);
                }
            }
            
            // Update lunch box display
            updateLunchBoxDisplay();
            
            // Clear feedback
            const feedback = document.getElementById('lunch-feedback');
            feedback.textContent = '';
            feedback.className = 'lunch-feedback-new';
        }

        function scrollToLunchBox() {
            const lunchBox = document.getElementById('css-lunchbox');
            if (lunchBox) {
                lunchBox.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        }

        function updateLunchBoxDisplay() {
            const display = document.getElementById('food-items-display');
            display.innerHTML = '';
            
            selectedFoods.forEach(food => {
                const foodItem = document.createElement('div');
                foodItem.className = 'food-item-in-box';
                foodItem.textContent = food.emoji;
                display.appendChild(foodItem);
            });
        }

        function checkLunchBox() {
            const feedback = document.getElementById('lunch-feedback');
            
            // Check if 4 items selected
            if (selectedFoods.length < 4) {
                feedback.textContent = `❌ اختر 4 عناصر! (لديك ${selectedFoods.length})`;
                feedback.className = 'lunch-feedback-new error';
                playErrorSound();
                return;
            }
            
            // Check for unhealthy items
            const hasUnhealthy = selectedFoods.some(food => !food.healthy);
            
            if (hasUnhealthy) {
                showTeethWarning();
                playErrorSound();
                return;
            }
            
            // All healthy - success!
            feedback.textContent = '🎉 ممتاز! اختيار صحي رائع! 🎉';
            feedback.className = 'lunch-feedback-new success';
            createCelebration();
            playSuccessSound();
        }

        function showTeethWarning() {
            const teethDisplay = document.getElementById('teeth-display');
            teethDisplay.style.display = 'flex';
            
            // Create teeth
            const upperTeeth = document.getElementById('upper-teeth');
            const lowerTeeth = document.getElementById('lower-teeth');
            
            upperTeeth.innerHTML = '';
            lowerTeeth.innerHTML = '';
            
            // Create 8 upper teeth (some decayed)
            for (let i = 0; i < 8; i++) {
                const tooth = document.createElement('div');
                tooth.className = 'tooth';
                // Randomly decay some teeth (30% chance)
                if (Math.random() < 0.35) {
                    setTimeout(() => {
                        tooth.classList.add('decayed');
                    }, i * 100);
                }
                upperTeeth.appendChild(tooth);
            }
            
            // Create 8 lower teeth (some decayed)
            for (let i = 0; i < 8; i++) {
                const tooth = document.createElement('div');
                tooth.className = 'tooth';
                // Randomly decay some teeth (30% chance)
                if (Math.random() < 0.35) {
                    setTimeout(() => {
                        tooth.classList.add('decayed');
                    }, i * 100 + 400);
                }
                lowerTeeth.appendChild(tooth);
            }
        }

        function resetLunchBox() {
            // Hide teeth warning if visible
            document.getElementById('teeth-display').style.display = 'none';
            
            // Reinitialize game
            initializeLunchBoxGame();
        }
        
        // Counting Game Variables
        const fruitsAndVeggies = [
            { emoji: '🍎', name: 'Apple', arabicName: 'تفاحة' },
            { emoji: '🍊', name: 'Orange', arabicName: 'برتقالة' },
            { emoji: '🍌', name: 'Banana', arabicName: 'موزة' },
            { emoji: '🍇', name: 'Grapes', arabicName: 'عنب' },
            { emoji: '🍓', name: 'Strawberry', arabicName: 'فراولة' },
            { emoji: '🍉', name: 'Watermelon', arabicName: 'بطيخ' },
            { emoji: '🍑', name: 'Peach', arabicName: 'خوخ' },
            { emoji: '🍒', name: 'Cherry', arabicName: 'كرز' },
            { emoji: '🥝', name: 'Kiwi', arabicName: 'كيوي' },
            { emoji: '🍍', name: 'Pineapple', arabicName: 'أناناس' },
            { emoji: '🥕', name: 'Carrot', arabicName: 'جزر' },
            { emoji: '🥒', name: 'Cucumber', arabicName: 'خيار' },
            { emoji: '🍅', name: 'Tomato', arabicName: 'طماطم' },
            { emoji: '🥦', name: 'Broccoli', arabicName: 'بروكلي' },
            { emoji: '🌽', name: 'Corn', arabicName: 'ذرة' },
            { emoji: '🥬', name: 'Lettuce', arabicName: 'خس' },
            { emoji: '🫑', name: 'Pepper', arabicName: 'فلفل' },
            { emoji: '🍆', name: 'Eggplant', arabicName: 'باذنجان' }
        ];
        
        let arabicCountScore = 0;
        let englishCountScore = 0;
        let currentArabicCount = null;
        let currentEnglishCount = null;
        let currentArabicItem = null;
        let currentEnglishItem = null;
        let arabicAnswered = false;
        let englishAnswered = false;
        
        function generateArabicCounting() {
            arabicAnswered = false;
            const count = Math.floor(Math.random() * 10) + 1;
            const item = fruitsAndVeggies[Math.floor(Math.random() * fruitsAndVeggies.length)];
            
            currentArabicCount = count;
            currentArabicItem = item;
            
            const card = document.getElementById('arabic-counting-card');
            card.innerHTML = `
                <h3>${item.arabicName}</h3>
                <div class="items-display" id="arabic-items-display"></div>
            `;
            
            const itemsDisplay = document.getElementById('arabic-items-display');
            for (let i = 0; i < count; i++) {
                const itemEl = document.createElement('div');
                itemEl.className = 'counting-item';
                itemEl.textContent = item.emoji;
                itemEl.style.animationDelay = (i * 0.1) + 's';
                itemsDisplay.appendChild(itemEl);
            }
            
            generateArabicNumberButtons();
        }
        
        function generateArabicNumberButtons() {
            const buttonsContainer = document.getElementById('arabic-number-buttons');
            buttonsContainer.innerHTML = '';
            
            const arabicNums = ['١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩', '١٠'];
            
            for (let i = 1; i <= 10; i++) {
                const btn = document.createElement('button');
                btn.className = 'number-btn';
                btn.textContent = arabicNums[i - 1];
                btn.onclick = () => checkArabicAnswer(i, btn);
                buttonsContainer.appendChild(btn);
            }
        }
        
        function checkArabicAnswer(selected, btn) {
            if (arabicAnswered) return;
            
            arabicAnswered = true;
            const allButtons = document.querySelectorAll('#arabic-number-buttons .number-btn');
            
            if (selected === currentArabicCount) {
                btn.classList.add('correct');
                arabicCountScore++;
                document.getElementById('arabic-count-score').textContent = arabicCountScore;
                playSuccessSound();
                createCountingCelebration('arabic-counting-card');
                
                allButtons.forEach(b => b.disabled = true);
                
                // Check for win condition at 10
                if (arabicCountScore >= 10) {
                    setTimeout(() => {
                        showCountingWinScreen('arabic');
                    }, 1000);
                }
            } else {
                btn.classList.add('wrong');
                playErrorSound();
                setTimeout(() => {
                    btn.classList.remove('wrong');
                    arabicAnswered = false;
                }, 800);
            }
        }
        
        function generateEnglishCounting() {
            englishAnswered = false;
            const count = Math.floor(Math.random() * 10) + 1;
            const item = fruitsAndVeggies[Math.floor(Math.random() * fruitsAndVeggies.length)];
            
            currentEnglishCount = count;
            currentEnglishItem = item;
            
            const card = document.getElementById('english-counting-card');
            card.innerHTML = `
                <h3>${item.name}</h3>
                <div class="items-display" id="english-items-display"></div>
            `;
            
            const itemsDisplay = document.getElementById('english-items-display');
            for (let i = 0; i < count; i++) {
                const itemEl = document.createElement('div');
                itemEl.className = 'counting-item';
                itemEl.textContent = item.emoji;
                itemEl.style.animationDelay = (i * 0.1) + 's';
                itemsDisplay.appendChild(itemEl);
            }
            
            generateEnglishNumberButtons();
        }
        
        function generateEnglishNumberButtons() {
            const buttonsContainer = document.getElementById('english-number-buttons');
            buttonsContainer.innerHTML = '';
            
            for (let i = 1; i <= 10; i++) {
                const btn = document.createElement('button');
                btn.className = 'number-btn';
                btn.textContent = i;
                btn.onclick = () => checkEnglishAnswer(i, btn);
                buttonsContainer.appendChild(btn);
            }
        }
        
        function checkEnglishAnswer(selected, btn) {
            if (englishAnswered) return;
            
            englishAnswered = true;
            const allButtons = document.querySelectorAll('#english-number-buttons .number-btn');
            
            if (selected === currentEnglishCount) {
                btn.classList.add('correct');
                englishCountScore++;
                document.getElementById('english-count-score').textContent = englishCountScore;
                playSuccessSound();
                createCountingCelebration('english-counting-card');
                
                allButtons.forEach(b => b.disabled = true);
                
                // Check for win condition at 10
                if (englishCountScore >= 10) {
                    setTimeout(() => {
                        showCountingWinScreen('english');
                    }, 1000);
                }
            } else {
                btn.classList.add('wrong');
                playErrorSound();
                setTimeout(() => {
                    btn.classList.remove('wrong');
                    englishAnswered = false;
                }, 800);
            }
        }
        
        function createCountingCelebration(containerId) {
            const container = document.getElementById(containerId);
            const prizeEmojis = ['🎉', '⭐', '🌟', '✨', '🎊', '👏', '💫', '🏆', '✅', '🎯', '💯'];
            
            for (let i = 0; i < 15; i++) {
                const emoji = document.createElement('div');
                emoji.textContent = prizeEmojis[Math.floor(Math.random() * prizeEmojis.length)];
                emoji.className = 'celebration-prize';
                
                const rect = container.getBoundingClientRect();
                emoji.style.position = 'fixed';
                emoji.style.left = (rect.left + Math.random() * rect.width) + 'px';
                emoji.style.top = (rect.top + rect.height / 2) + 'px';
                emoji.style.fontSize = '2.5em';
                emoji.style.zIndex = '9999';
                emoji.style.pointerEvents = 'none';
                
                const randomX = (Math.random() - 0.5) * 200;
                const randomY = -100 - Math.random() * 100;
                emoji.style.setProperty('--prize-x', randomX + 'px');
                emoji.style.setProperty('--prize-y', randomY + 'px');
                emoji.style.animation = `prizeCelebrate ${1 + Math.random() * 0.5}s ease-out forwards`;
                emoji.style.animationDelay = (i * 0.05) + 's';
                
                document.body.appendChild(emoji);
                
                setTimeout(() => emoji.remove(), 2000);
            }
        }
        
        function nextArabicCounting() {
            generateArabicCounting();
        }
        
        function nextEnglishCounting() {
            generateEnglishCounting();
        }
        
        // Win Screen Variables
        let currentWinGameType = '';
        
        function showCountingWinScreen(gameType) {
            currentWinGameType = gameType;
            const winScreen = document.getElementById('counting-win-screen');
            const winTitle = document.getElementById('win-title');
            const winSubtitle = document.getElementById('win-subtitle');
            const winMessage = document.getElementById('win-message');
            const winScoreDisplay = document.getElementById('win-score-display');
            const playAgainBtn = document.getElementById('win-play-again');
            
            if (gameType === 'arabic') {
                winTitle.textContent = '🎊 فزت! 🎊';
                winSubtitle.textContent = '🌟 أحسنت! رائع جداً! 🌟';
                winScoreDisplay.textContent = '١٠ / ١٠ ⭐';
                winMessage.innerHTML = 'لقد عددت ١٠ فاكهة وخضار بشكل صحيح!<br>أنت بطل العد! 🥇';
                playAgainBtn.textContent = '🔄 العب مرة أخرى';
            } else {
                winTitle.textContent = '🎊 YOU WON! 🎊';
                winSubtitle.textContent = '🌟 Amazing Job! 🌟';
                winScoreDisplay.textContent = '10 / 10 ⭐';
                winMessage.innerHTML = 'You counted 10 fruits and vegetables correctly!<br>You\'re a super counting champion! 🥇';
                playAgainBtn.textContent = '🔄 Play Again';
            }
            
            // Show the win screen
            winScreen.style.display = 'flex';
            
            // Create confetti
            createWinConfetti();
            
            // Create fireworks
            createWinFireworks();
            
            // Play victory sound
            playVictorySound();
        }
        
        function createWinConfetti() {
            const confettiContainer = document.getElementById('win-confetti');
            confettiContainer.innerHTML = '';
            
            const colors = ['#FF6B6B', '#4ECDC4', '#FFE66D', '#95E1D3', '#FF69B4', '#6BCB77', '#4D96FF', '#FFD93D', '#FF6B6B', '#C9B1FF'];
            const shapes = ['■', '●', '▲', '★', '♦', '♥'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                confetti.style.color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.fontSize = (Math.random() * 20 + 10) + 'px';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 3) + 's';
                confettiContainer.appendChild(confetti);
            }
        }
        
        function createWinFireworks() {
            const fireworksContainer = document.getElementById('win-fireworks');
            fireworksContainer.innerHTML = '';
            
            const fireworkEmojis = ['🎆', '🎇', '✨', '💫', '⭐', '🌟', '💥', '🎉'];
            
            for (let i = 0; i < 12; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.textContent = fireworkEmojis[Math.floor(Math.random() * fireworkEmojis.length)];
                firework.style.left = (10 + Math.random() * 80) + '%';
                firework.style.top = (10 + Math.random() * 80) + '%';
                firework.style.animationDelay = (Math.random() * 2) + 's';
                firework.style.animationDuration = (1.5 + Math.random()) + 's';
                fireworksContainer.appendChild(firework);
            }
        }
        
        function playVictorySound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Play a victory fanfare
                const notes = [
                    { freq: 523, duration: 0.15 },  // C5
                    { freq: 659, duration: 0.15 },  // E5
                    { freq: 784, duration: 0.15 },  // G5
                    { freq: 1047, duration: 0.3 },  // C6
                    { freq: 784, duration: 0.15 },  // G5
                    { freq: 1047, duration: 0.5 }   // C6 (longer)
                ];
                
                let startTime = audioContext.currentTime;
                
                notes.forEach(note => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.value = note.freq;
                    osc.type = 'sine';
                    
                    gain.gain.setValueAtTime(0.3, startTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, startTime + note.duration);
                    
                    osc.start(startTime);
                    osc.stop(startTime + note.duration);
                    
                    startTime += note.duration * 0.8;
                });
            } catch (e) {
                // Audio not supported
            }
        }
        
        function playCountingAgain() {
            // Hide win screen
            document.getElementById('counting-win-screen').style.display = 'none';
            
            // Reset score and start new game
            if (currentWinGameType === 'arabic') {
                arabicCountScore = 0;
                document.getElementById('arabic-count-score').textContent = '0';
                generateArabicCounting();
            } else {
                englishCountScore = 0;
                document.getElementById('english-count-score').textContent = '0';
                generateEnglishCounting();
            }
        }
        
        function goToMainMenu() {
            // Hide win screen
            document.getElementById('counting-win-screen').style.display = 'none';
            
            // Reset scores
            arabicCountScore = 0;
            englishCountScore = 0;
            document.getElementById('arabic-count-score').textContent = '0';
            document.getElementById('english-count-score').textContent = '0';
            
            // Navigate to main menu
            showScreen('main-menu');
        }
        
        // Number Ordering Game Variables
        const arabicNumbers = ['١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩', '١٠'];
        const englishNumbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];
        
        let currentDraggedElement = null;
        let touchDragElement = null;
        let touchOffsetOrderX = 0;
        let touchOffsetOrderY = 0;
        
        function initializeArabicOrdering() {
            const slotsContainer = document.getElementById('arabic-slots');
            const piecesContainer = document.getElementById('arabic-pieces');
            
            slotsContainer.innerHTML = '';
            piecesContainer.innerHTML = '';
            
            // Create slots
            for (let i = 0; i < 10; i++) {
                const slot = document.createElement('div');
                slot.className = 'ordering-slot';
                slot.dataset.position = i + 1;
                slot.dataset.expected = arabicNumbers[i];
                slot.addEventListener('dragover', handleOrderDragOver);
                slot.addEventListener('drop', handleOrderDrop);
                slot.addEventListener('dragleave', handleOrderDragLeave);
                slotsContainer.appendChild(slot);
            }
            
            // Create shuffled numbers
            const shuffled = [...arabicNumbers].sort(() => Math.random() - 0.5);
            shuffled.forEach((num, index) => {
                const numberCard = document.createElement('div');
                numberCard.className = 'ordering-number';
                numberCard.textContent = num;
                numberCard.draggable = true;
                numberCard.dataset.value = num;
                numberCard.addEventListener('dragstart', handleOrderDragStart);
                numberCard.addEventListener('dragend', handleOrderDragEnd);
                numberCard.addEventListener('touchstart', handleOrderTouchStart, {passive: false});
                numberCard.addEventListener('touchmove', handleOrderTouchMove, {passive: false});
                numberCard.addEventListener('touchend', handleOrderTouchEnd, {passive: false});
                piecesContainer.appendChild(numberCard);
            });
        }
        
        function initializeEnglishOrdering() {
            const slotsContainer = document.getElementById('english-slots');
            const piecesContainer = document.getElementById('english-pieces');
            
            slotsContainer.innerHTML = '';
            piecesContainer.innerHTML = '';
            
            // Create slots
            for (let i = 0; i < 10; i++) {
                const slot = document.createElement('div');
                slot.className = 'ordering-slot';
                slot.dataset.position = i + 1;
                slot.dataset.expected = englishNumbers[i];
                slot.addEventListener('dragover', handleOrderDragOver);
                slot.addEventListener('drop', handleOrderDrop);
                slot.addEventListener('dragleave', handleOrderDragLeave);
                slotsContainer.appendChild(slot);
            }
            
            // Create shuffled numbers
            const shuffled = [...englishNumbers].sort(() => Math.random() - 0.5);
            shuffled.forEach((num, index) => {
                const numberCard = document.createElement('div');
                numberCard.className = 'ordering-number';
                numberCard.textContent = num;
                numberCard.draggable = true;
                numberCard.dataset.value = num;
                numberCard.addEventListener('dragstart', handleOrderDragStart);
                numberCard.addEventListener('dragend', handleOrderDragEnd);
                numberCard.addEventListener('touchstart', handleOrderTouchStart, {passive: false});
                numberCard.addEventListener('touchmove', handleOrderTouchMove, {passive: false});
                numberCard.addEventListener('touchend', handleOrderTouchEnd, {passive: false});
                piecesContainer.appendChild(numberCard);
            });
        }
        
        function handleOrderDragStart(e) {
            currentDraggedElement = e.target;
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }
        
        function handleOrderDragEnd(e) {
            e.target.classList.remove('dragging');
        }
        
        function handleOrderDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
            if (!e.target.classList.contains('filled')) {
                e.target.classList.add('drag-over');
            }
        }
        
        function handleOrderDragLeave(e) {
            e.target.classList.remove('drag-over');
        }
        
        function handleOrderDrop(e) {
            e.preventDefault();
            const slot = e.target.classList.contains('ordering-slot') ? e.target : e.target.closest('.ordering-slot');
            
            if (slot && !slot.classList.contains('filled')) {
                slot.classList.remove('drag-over');
                const expected = slot.dataset.expected;
                const actual = currentDraggedElement.dataset.value;
                
                if (expected === actual) {
                    slot.appendChild(currentDraggedElement);
                    slot.classList.add('filled');
                    currentDraggedElement.classList.add('placed');
                    currentDraggedElement.draggable = false;
                    playPuzzleCorrectSound();
                    createMiniCelebration(slot);
                    checkOrderCompletion();
                } else {
                    playErrorSound();
                }
            }
        }
        
        function handleOrderTouchStart(e) {
            e.preventDefault();
            touchDragElement = e.target;
            touchDragElement.classList.add('dragging');
            
            const touch = e.touches[0];
            const rect = touchDragElement.getBoundingClientRect();
            touchOffsetOrderX = touch.clientX - rect.left;
            touchOffsetOrderY = touch.clientY - rect.top;
        }
        
        function handleOrderTouchMove(e) {
            e.preventDefault();
            if (!touchDragElement) return;
            
            const touch = e.touches[0];
            touchDragElement.style.position = 'fixed';
            touchDragElement.style.zIndex = '1000';
            touchDragElement.style.left = (touch.clientX - touchOffsetOrderX) + 'px';
            touchDragElement.style.top = (touch.clientY - touchOffsetOrderY) + 'px';
        }
        
        function handleOrderTouchEnd(e) {
            e.preventDefault();
            if (!touchDragElement) return;
            
            touchDragElement.classList.remove('dragging');
            touchDragElement.style.position = '';
            touchDragElement.style.left = '';
            touchDragElement.style.top = '';
            touchDragElement.style.zIndex = '';
            
            const touch = e.changedTouches[0];
            const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
            const slot = dropTarget?.classList.contains('ordering-slot') ? dropTarget : dropTarget?.closest('.ordering-slot');
            
            if (slot && !slot.classList.contains('filled')) {
                const expected = slot.dataset.expected;
                const actual = touchDragElement.dataset.value;
                
                if (expected === actual) {
                    slot.appendChild(touchDragElement);
                    slot.classList.add('filled');
                    touchDragElement.classList.add('placed');
                    touchDragElement.draggable = false;
                    playPuzzleCorrectSound();
                    createMiniCelebration(slot);
                    checkOrderCompletion();
                } else {
                    playErrorSound();
                }
            }
            
            touchDragElement = null;
        }
        
        function checkOrderCompletion() {
            const activeContainer = document.querySelector('.ordering-container:not([style*="display: none"])');
            if (!activeContainer) return;
            
            const slots = activeContainer.querySelectorAll('.ordering-slot');
            const allFilled = Array.from(slots).every(slot => slot.classList.contains('filled'));
            
            if (allFilled) {
                const statusId = activeContainer.id === 'order-arabic-container' ? 'arabic-status' : 'english-status';
                const statusEl = document.getElementById(statusId);
                const message = activeContainer.id === 'order-arabic-container' ? 
                    '🎉 أحسنت! رتبت الأرقام بشكل صحيح! 🎉' : 
                    '🎉 Great Job! You ordered all numbers correctly! 🎉';
                
                statusEl.textContent = message;
                statusEl.classList.add('success');
                
                playSuccessSound();
                createBigCelebration();
            }
        }
        
        function resetArabicOrdering() {
            document.getElementById('arabic-status').textContent = 'ابدأ بترتيب الأرقام!';
            document.getElementById('arabic-status').classList.remove('success');
            initializeArabicOrdering();
        }
        
        function resetEnglishOrdering() {
            document.getElementById('english-status').textContent = 'Start ordering the numbers!';
            document.getElementById('english-status').classList.remove('success');
            initializeEnglishOrdering();
        }
        
        function createMiniCelebration(slot) {
            const prizeEmojis = ['🎉', '⭐', '🌟', '✨', '🎊', '👏', '💫', '🏆', '✅'];
            
            // Create 5 floating emojis from the slot
            for (let i = 0; i < 5; i++) {
                const emoji = document.createElement('div');
                emoji.textContent = prizeEmojis[Math.floor(Math.random() * prizeEmojis.length)];
                emoji.className = 'mini-celebration-emoji';
                
                const rect = slot.getBoundingClientRect();
                emoji.style.position = 'fixed';
                emoji.style.left = (rect.left + rect.width / 2 - 15) + 'px';
                emoji.style.top = (rect.top + rect.height / 2 - 15) + 'px';
                emoji.style.fontSize = '2em';
                emoji.style.zIndex = '9999';
                emoji.style.pointerEvents = 'none';
                emoji.style.animation = `miniCelebrate ${0.8 + Math.random() * 0.4}s ease-out forwards`;
                emoji.style.animationDelay = (i * 0.1) + 's';
                
                // Random horizontal offset
                const randomX = (Math.random() - 0.5) * 100;
                emoji.style.setProperty('--random-x', randomX + 'px');
                
                document.body.appendChild(emoji);
                
                setTimeout(() => emoji.remove(), 1500);
            }
        }
        
        // Memory game variables
        let memoryAnimals = [
            { emoji: '🦁', name: 'Lion', arabic: 'أسد' },
            { emoji: '🐘', name: 'Elephant', arabic: 'فيل' },
            { emoji: '🦒', name: 'Giraffe', arabic: 'زرافة' },
            { emoji: '🐯', name: 'Tiger', arabic: 'نمر' },
            { emoji: '🐻', name: 'Bear', arabic: 'دب' },
            { emoji: '🐼', name: 'Panda', arabic: 'باندا' },
            { emoji: '🐨', name: 'Koala', arabic: 'كوالا' },
            { emoji: '🦊', name: 'Fox', arabic: 'ثعلب' },
            { emoji: '🐰', name: 'Rabbit', arabic: 'أرنب' },
            { emoji: '🐸', name: 'Frog', arabic: 'ضفدع' },
            { emoji: '🐵', name: 'Monkey', arabic: 'قرد' },
            { emoji: '🦓', name: 'Zebra', arabic: 'حمار وحشي' },
            { emoji: '🦘', name: 'Kangaroo', arabic: 'كنغر' },
            { emoji: '🐧', name: 'Penguin', arabic: 'بطريق' },
            { emoji: '🦅', name: 'Eagle', arabic: 'نسر' },
            { emoji: '🦉', name: 'Owl', arabic: 'بومة' },
            { emoji: '🦜', name: 'Parrot', arabic: 'ببغاء' },
            { emoji: '🐬', name: 'Dolphin', arabic: 'دولفين' },
            { emoji: '🦈', name: 'Shark', arabic: 'سمك القرش' },
            { emoji: '🐳', name: 'Whale', arabic: 'حوت' },
            { emoji: '🐙', name: 'Octopus', arabic: 'أخطبوط' },
            { emoji: '🦀', name: 'Crab', arabic: 'سلطعون' },
            { emoji: '🐍', name: 'Snake', arabic: 'ثعبان' },
            { emoji: '🦎', name: 'Lizard', arabic: 'سحلية' },
            { emoji: '🐊', name: 'Crocodile', arabic: 'تمساح' }
        ];
        
        let currentGameAnimals = [];
        let currentTargetAnimal = null;
        let correctCount = 0;
        let triesCount = 0;
        let foundAnimals = new Set();
        
        function startMemoryGame() {
            correctCount = 0;
            triesCount = 0;
            foundAnimals.clear();
            
            const shuffled = [...memoryAnimals].sort(() => Math.random() - 0.5);
            currentGameAnimals = shuffled.slice(0, 5);
            
            document.getElementById('memory-start').style.display = 'none';
            document.getElementById('memory-play').style.display = 'block';
            
            showAnimalsPhase();
        }
        
        function showAnimalsPhase() {
            const grid = document.getElementById('memory-cards-grid');
            const feedback = document.getElementById('memory-feedback');
            
            feedback.textContent = '👀 انظر بعناية إلى هذه الحيوانات!';
            feedback.className = 'memory-feedback';
            
            grid.innerHTML = '';
            
            const shuffledAnimals = [...currentGameAnimals].sort(() => Math.random() - 0.5);
            
            shuffledAnimals.forEach((animal, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card showing-front';
                card.setAttribute('data-animal', animal.emoji);
                card.innerHTML = `
                    <div class="memory-card-front">${animal.emoji}</div>
                    <div class="memory-card-back">❓</div>
                `;
                grid.appendChild(card);
            });
            
            setTimeout(() => {
                flipAllCards();
                startGamePhase();
            }, 9000);
        }
        
        function flipAllCards() {
            const cards = document.querySelectorAll('.memory-card');
            cards.forEach(card => {
                card.classList.remove('showing-front');
                card.classList.add('flipped');
            });
            
            // Don't shuffle - keep cards in same position!
            // Players need to remember WHERE each animal was
        }
        
        function startGamePhase() {
            const feedback = document.getElementById('memory-feedback');
            feedback.textContent = '🎯 الآن ابحث عن الحيوانات!';
            
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('tries-count').textContent = triesCount;
            
            selectNewTarget();
            
            const cards = document.querySelectorAll('.memory-card');
            cards.forEach((card) => {
                card.onclick = () => checkCard(card);
            });
        }
        
        function selectNewTarget() {
            const remainingAnimals = currentGameAnimals.filter(animal => 
                !foundAnimals.has(animal.emoji)
            );
            
            if (remainingAnimals.length === 0) {
                gameComplete();
                return;
            }
            
            currentTargetAnimal = remainingAnimals[Math.floor(Math.random() * remainingAnimals.length)];
            
            document.getElementById('target-emoji').textContent = currentTargetAnimal.emoji;
            document.getElementById('target-name').textContent = currentTargetAnimal.arabicName;
        }
        
        function checkCard(card) {
            if (card.classList.contains('found')) return;
            
            triesCount++;
            document.getElementById('tries-count').textContent = triesCount;
            
            card.classList.remove('flipped');
            card.classList.add('showing-front');
            
            const actualAnimalEmoji = card.getAttribute('data-animal');
            const actualAnimal = memoryAnimals.find(a => a.emoji === actualAnimalEmoji);
            const feedback = document.getElementById('memory-feedback');
            
            if (actualAnimalEmoji === currentTargetAnimal.emoji) {
                correctCount++;
                document.getElementById('correct-count').textContent = correctCount;
                
                feedback.textContent = `✅ نعم! هذا هو ${actualAnimal.arabicName}!`;
                feedback.className = 'memory-feedback correct';
                
                card.classList.add('found');
                foundAnimals.add(actualAnimalEmoji);
                
                playSuccessSound();
                createCelebration();
                
                setTimeout(() => {
                    selectNewTarget();
                }, 1500);
            } else {
                feedback.textContent = `❌ لا، هذا ${actualAnimal.arabicName}. حاول مرة أخرى!`;
                feedback.className = 'memory-feedback wrong';
                
                playErrorSound();
                
                setTimeout(() => {
                    card.classList.remove('showing-front');
                    card.classList.add('flipped');
                    feedback.textContent = '';
                }, 1500);
            }
        }
        
        function gameComplete() {
            const feedback = document.getElementById('memory-feedback');
            feedback.textContent = `🎉 رائع! وجدت جميع الحيوانات! ${correctCount} صحيح في ${triesCount} محاولة!`;
            feedback.className = 'memory-feedback correct';
            
            createBigCelebration();
            playSuccessSound();
        }
        
        function resetMemoryGame() {
            document.getElementById('memory-start').style.display = 'block';
            document.getElementById('memory-play').style.display = 'none';
            document.getElementById('memory-feedback').textContent = '';
        }
        
        function playErrorSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 200;
            osc.type = 'sawtooth';
            
            gain.gain.setValueAtTime(0.2, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.3);
        }
        
        function createBigCelebration() {
            const feedback = document.getElementById('memory-feedback');
            const prizeEmojis = ['⭐', '🌟', '✨', '🎉', '🎊', '🏆', '🥇', '👑', '🎈', '🌈', '💎'];
            
            // Create fullscreen overlay
            const overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100vw';
            overlay.style.height = '100vh';
            overlay.style.zIndex = '10000';
            overlay.style.pointerEvents = 'none';
            document.body.appendChild(overlay);
            
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.textContent = prizeEmojis[Math.floor(Math.random() * prizeEmojis.length)];
                star.style.position = 'absolute';
                star.style.fontSize = '4em';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animation = 'bigCelebrate 6s ease-out forwards';
                star.style.animationDelay = Math.random() * 0.5 + 's';
                overlay.appendChild(star);
            }
            
            setTimeout(() => overlay.remove(), 6000);
        }
        
        
        // SVG Templates for different pictures
        const svgTemplates = {
            butterfly: `
                <g id="butterfly">
                    <!-- Left Wing Top -->
                    <path d="M 150 200 Q 100 150 120 80 Q 140 100 160 140 L 150 200 Z" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Wing Bottom -->
                    <path d="M 150 200 L 160 260 Q 140 300 100 320 Q 90 280 100 250 Q 120 220 150 200 Z" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Wing Top -->
                    <path d="M 250 200 Q 300 150 280 80 Q 260 100 240 140 L 250 200 Z" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Wing Bottom -->
                    <path d="M 250 200 L 240 260 Q 260 300 300 320 Q 310 280 300 250 Q 280 220 250 200 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Body -->
                    <ellipse cx="200" cy="200" rx="18" ry="70" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Head -->
                    <circle cx="200" cy="150" r="20" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Antenna -->
                    <path d="M 195 140 Q 185 120 180 110" fill="none" stroke="#000" stroke-width="3"/>
                    <circle cx="180" cy="105" r="6" fill="#000"/>
                    <!-- Right Antenna -->
                    <path d="M 205 140 Q 215 120 220 110" fill="none" stroke="#000" stroke-width="3"/>
                    <circle cx="220" cy="105" r="6" fill="#000"/>
                    
                    <!-- Number labels -->
                    <text x="125" y="140" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="125" y="270" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="265" y="140" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="265" y="270" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="195" y="210" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="195" y="155" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                </g>
            `,
            house: `
                <g id="house">
                    <!-- Roof -->
                    <path d="M 100 180 L 200 100 L 300 180 Z" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Main Wall -->
                    <rect x="120" y="180" width="160" height="140" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Door -->
                    <rect x="170" y="240" width="60" height="80" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Window -->
                    <rect x="140" y="200" width="40" height="40" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Window -->
                    <rect x="220" y="200" width="40" height="40" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Chimney -->
                    <rect x="250" y="130" width="30" height="50" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Door Knob -->
                    <circle cx="220" cy="280" r="5" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Ground -->
                    <rect x="80" y="320" width="240" height="20" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="155" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="260" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="195" y="285" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="155" y="225" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="235" y="225" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="260" y="160" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="217" y="283" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="195" y="337" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                </g>
            `,
            flower: `
                <g id="flower">
                    <!-- Center -->
                    <circle cx="200" cy="200" r="30" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Top Petal -->
                    <circle cx="200" cy="140" r="30" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom Petal -->
                    <circle cx="200" cy="260" r="30" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Petal -->
                    <circle cx="140" cy="200" r="30" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Petal -->
                    <circle cx="260" cy="200" r="30" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Stem -->
                    <rect x="190" y="230" width="20" height="100" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="147" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="195" y="267" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="135" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="255" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="195" y="285" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                </g>
            `,
            car: `
                <g id="car">
                    <!-- Main Body -->
                    <rect x="100" y="200" width="200" height="60" rx="10" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Roof -->
                    <path d="M 140 200 L 160 150 L 240 150 L 260 200 Z" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Window -->
                    <path d="M 148 195 L 165 160 L 195 160 L 195 195 Z" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Window -->
                    <path d="M 205 195 L 205 160 L 235 160 L 252 195 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Wheel -->
                    <circle cx="140" cy="270" r="25" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Wheel -->
                    <circle cx="260" cy="270" r="25" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Headlight -->
                    <circle cx="290" cy="220" r="10" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="235" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="180" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="175" y="182" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="215" y="182" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="135" y="275" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="255" y="275" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="287" y="225" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                </g>
            `,
            fish: `
                <g id="fish">
                    <!-- Body -->
                    <ellipse cx="220" cy="200" rx="80" ry="50" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Tail -->
                    <path d="M 140 200 L 100 170 L 100 230 Z" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Top Fin -->
                    <path d="M 210 150 L 200 120 L 230 140 Z" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom Fin -->
                    <path d="M 210 250 L 200 280 L 230 260 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Mouth -->
                    <circle cx="285" cy="200" r="15" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Eye -->
                    <circle cx="270" cy="185" r="8" fill="#000"/>
                    
                    <!-- Number labels -->
                    <text x="215" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="110" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="210" y="140" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="210" y="273" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="280" y="207" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                </g>
            `,
            tree: `
                <g id="tree">
                    <!-- Leaves Top -->
                    <circle cx="200" cy="130" r="50" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Leaves Left -->
                    <circle cx="160" cy="170" r="45" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Leaves Right -->
                    <circle cx="240" cy="170" r="45" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Trunk -->
                    <rect x="180" y="200" width="40" height="120" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="137" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="155" y="177" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="235" y="177" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="195" y="267" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                </g>
            `,
            robot: `
                <g id="robot">
                    <!-- Head -->
                    <rect x="140" y="100" width="120" height="100" rx="10" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Eye -->
                    <circle cx="170" cy="140" r="15" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Eye -->
                    <circle cx="230" cy="140" r="15" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Antenna -->
                    <rect x="195" y="80" width="10" height="20" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <circle cx="200" cy="75" r="8" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Mouth -->
                    <rect x="170" y="170" width="60" height="12" rx="6" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Body -->
                    <rect x="150" y="200" width="100" height="80" rx="8" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Arm -->
                    <rect x="110" y="220" width="40" height="50" rx="5" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Arm -->
                    <rect x="250" y="220" width="40" height="50" rx="5" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Leg -->
                    <rect x="165" y="280" width="25" height="60" class="paint-area" data-number="10" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Leg -->
                    <rect x="210" y="280" width="25" height="60" class="paint-area" data-number="11" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Control Panel -->
                    <rect x="175" y="230" width="50" height="30" class="paint-area" data-number="12" fill="#fff" stroke="#000" stroke-width="2"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="155" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="167" y="143" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="227" y="143" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="197" y="95" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="197" y="78" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="195" y="180" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="195" y="250" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="125" y="250" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="265" y="250" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                    <text x="172" y="315" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">10</text>
                    <text x="217" y="315" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">11</text>
                    <text x="195" y="250" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">12</text>
                </g>
            `,
            rocket: `
                <g id="rocket">
                    <!-- Nose Cone -->
                    <path d="M 200 60 L 160 140 L 240 140 Z" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Main Body -->
                    <rect x="160" y="140" width="80" height="120" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Window -->
                    <circle cx="200" cy="180" r="20" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Fin -->
                    <path d="M 160 260 L 120 320 L 160 300 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Fin -->
                    <path d="M 240 260 L 280 320 L 240 300 Z" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom Fin -->
                    <rect x="175" y="260" width="50" height="30" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Flame -->
                    <path d="M 165 290 Q 150 310 155 330 Q 160 315 165 300" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Center Flame -->
                    <path d="M 195 290 Q 190 315 200 335 Q 210 315 205 290" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Right Flame -->
                    <path d="M 235 290 Q 240 315 245 330 Q 250 310 235 300" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Detail Stripe -->
                    <rect x="165" y="210" width="70" height="10" class="paint-area" data-number="10" fill="#fff" stroke="#000" stroke-width="2"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="110" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="210" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="195" y="185" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="135" y="300" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="255" y="300" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="195" y="280" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="157" y="315" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="197" y="318" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="237" y="315" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                    <text x="195" y="220" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">10</text>
                </g>
            `,
            castle: `
                <g id="castle">
                    <!-- Left Tower -->
                    <rect x="100" y="140" width="60" height="200" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Tower -->
                    <rect x="240" y="140" width="60" height="200" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Main Building -->
                    <rect x="160" y="180" width="80" height="160" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Battlement -->
                    <rect x="105" y="130" width="15" height="10" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="2"/>
                    <rect x="130" y="130" width="15" height="10" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Right Battlement -->
                    <rect x="245" y="130" width="15" height="10" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="2"/>
                    <rect x="270" y="130" width="15" height="10" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Main Roof -->
                    <path d="M 170 180 L 200 160 L 230 180 Z" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Door -->
                    <rect x="185" y="260" width="30" height="80" rx="15" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Window -->
                    <rect x="120" y="200" width="20" height="30" class="paint-area" data-number="10" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Right Window -->
                    <rect x="260" y="200" width="20" height="30" class="paint-area" data-number="11" fill="#fff" stroke="#000" stroke-width="2"/>
                    
                    <!-- Number labels -->
                    <text x="125" y="250" font-size="22" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="265" y="250" font-size="22" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="195" y="270" font-size="22" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="109" y="138" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="134" y="138" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="249" y="138" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="274" y="138" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="195" y="175" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="195" y="305" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                    <text x="126" y="220" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">10</text>
                    <text x="266" y="220" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">11</text>
                </g>
            `,
            boat: `
                <g id="boat">
                    <!-- Hull -->
                    <path d="M 100 280 L 140 220 L 260 220 L 300 280 Z" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Deck -->
                    <rect x="150" y="210" width="100" height="10" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Mast -->
                    <rect x="198" y="120" width="8" height="100" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Main Sail -->
                    <path d="M 200 120 L 200 180 L 260 150 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Small Sail -->
                    <path d="M 200 140 L 200 180 L 160 160 Z" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Porthole -->
                    <circle cx="170" cy="250" r="12" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Porthole -->
                    <circle cx="230" cy="250" r="12" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Water Line -->
                    <rect x="90" y="280" width="220" height="15" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Flag -->
                    <path d="M 202 120 L 230 110 L 202 100" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="2"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="260" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="220" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="200" y="175" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="225" y="155" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="172" y="165" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="167" y="253" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="227" y="253" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="195" y="292" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="210" y="112" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                </g>
            `,
            sun: `
                <g id="sun">
                    <!-- Center Circle -->
                    <circle cx="200" cy="200" r="60" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Top Ray -->
                    <rect x="195" y="80" width="10" height="50" rx="5" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom Ray -->
                    <rect x="195" y="270" width="10" height="50" rx="5" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Ray -->
                    <rect x="80" y="195" width="50" height="10" ry="5" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Ray -->
                    <rect x="270" y="195" width="50" height="10" ry="5" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Top-Left Ray -->
                    <rect x="115" y="115" width="10" height="40" rx="5" transform="rotate(-45 120 135)" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Top-Right Ray -->
                    <rect x="275" y="115" width="10" height="40" rx="5" transform="rotate(45 280 135)" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom-Left Ray -->
                    <rect x="115" y="255" width="10" height="40" rx="5" transform="rotate(45 120 275)" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Bottom-Right Ray -->
                    <rect x="275" y="255" width="10" height="40" rx="5" transform="rotate(-45 280 275)" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="210" font-size="28" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="197" y="110" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="197" y="305" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="100" y="205" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="290" y="205" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="122" y="135" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="268" y="135" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="122" y="275" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="268" y="275" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                </g>
            `,
            owl: `
                <g id="owl">
                    <!-- Body -->
                    <ellipse cx="200" cy="200" rx="80" ry="100" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Eye Circle -->
                    <circle cx="170" cy="180" r="30" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Eye Circle -->
                    <circle cx="230" cy="180" r="30" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Pupil -->
                    <circle cx="170" cy="180" r="15" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Pupil -->
                    <circle cx="230" cy="180" r="15" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Beak -->
                    <path d="M 190 210 L 200 230 L 210 210 Z" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Wing -->
                    <path d="M 130 200 Q 90 220 100 260 L 130 240 Z" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Wing -->
                    <path d="M 270 200 Q 310 220 300 260 L 270 240 Z" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Ear Tuft -->
                    <path d="M 150 120 L 140 80 L 160 110 Z" class="paint-area" data-number="9" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Ear Tuft -->
                    <path d="M 250 120 L 260 80 L 240 110 Z" class="paint-area" data-number="10" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="250" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="165" y="190" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="225" y="190" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="167" y="183" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="227" y="183" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="197" y="223" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="105" y="235" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="285" y="235" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="147" y="105" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                    <text x="244" y="105" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">10</text>
                </g>
            `,
            rainbow: `
                <g id="rainbow">
                    <!-- Outer Arc Red -->
                    <path d="M 60 280 Q 200 80 340 280" fill="none" stroke="#fff" stroke-width="30" class="paint-area" data-number="1"/>
                    <!-- Arc Orange -->
                    <path d="M 80 280 Q 200 110 320 280" fill="none" stroke="#fff" stroke-width="25" class="paint-area" data-number="2"/>
                    <!-- Arc Yellow -->
                    <path d="M 100 280 Q 200 135 300 280" fill="none" stroke="#fff" stroke-width="25" class="paint-area" data-number="3"/>
                    <!-- Arc Green -->
                    <path d="M 120 280 Q 200 160 280 280" fill="none" stroke="#fff" stroke-width="25" class="paint-area" data-number="4"/>
                    <!-- Arc Blue -->
                    <path d="M 140 280 Q 200 185 260 280" fill="none" stroke="#fff" stroke-width="25" class="paint-area" data-number="5"/>
                    <!-- Arc Purple -->
                    <path d="M 160 280 Q 200 205 240 280" fill="none" stroke="#fff" stroke-width="25" class="paint-area" data-number="6"/>
                    <!-- Left Cloud -->
                    <circle cx="80" cy="300" r="25" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Cloud -->
                    <circle cx="320" cy="300" r="25" class="paint-area" data-number="8" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="190" y="120" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="190" y="145" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="190" y="170" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="190" y="195" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="190" y="220" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="190" y="240" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="75" y="305" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="315" y="305" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                </g>
            `,
            cat: `
                <g id="cat">
                    <!-- Body -->
                    <ellipse cx="200" cy="220" rx="70" ry="85" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Head -->
                    <circle cx="200" cy="160" r="50" class="paint-area" data-number="2" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Ear -->
                    <path d="M 155 125 L 145 85 L 170 120 Z" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Ear -->
                    <path d="M 245 125 L 255 85 L 230 120 Z" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Eye -->
                    <circle cx="180" cy="155" r="8" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Eye -->
                    <circle cx="220" cy="155" r="8" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Nose -->
                    <path d="M 195 170 L 200 180 L 205 170 Z" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Mouth Left -->
                    <path d="M 200 180 Q 185 190 175 185" fill="none" stroke="#000" stroke-width="2" class="paint-area" data-number="8"/>
                    <!-- Mouth Right -->
                    <path d="M 200 180 Q 215 190 225 185" fill="none" stroke="#000" stroke-width="2" class="paint-area" data-number="9"/>
                    <!-- Left Whisker Group -->
                    <line x1="140" y1="165" x2="100" y2="160" stroke="#000" stroke-width="2"/>
                    <line x1="140" y1="170" x2="100" y2="170" stroke="#000" stroke-width="2"/>
                    <!-- Right Whisker Group -->
                    <line x1="260" y1="165" x2="300" y2="160" stroke="#000" stroke-width="2"/>
                    <line x1="260" y1="170" x2="300" y2="170" stroke="#000" stroke-width="2"/>
                    <!-- Tail -->
                    <path d="M 260 240 Q 310 220 320 180" fill="none" stroke="#000" stroke-width="8" stroke-linecap="round" class="paint-area" data-number="10"/>
                    <!-- Left Paw -->
                    <ellipse cx="170" cy="300" rx="15" ry="20" class="paint-area" data-number="11" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Paw -->
                    <ellipse cx="230" cy="300" rx="15" ry="20" class="paint-area" data-number="12" fill="#fff" stroke="#000" stroke-width="3"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="240" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="165" font-size="20" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="155" y="110" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="238" y="110" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="177" y="158" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="217" y="158" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="197" y="177" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="177" y="192" font-size="10" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                    <text x="215" y="192" font-size="10" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">9</text>
                    <text x="285" y="210" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">10</text>
                    <text x="167" y="303" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">11</text>
                    <text x="227" y="303" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">12</text>
                </g>
            `,
            pizza: `
                <g id="pizza">
                    <!-- Pizza Triangle Base -->
                    <path d="M 120 280 L 200 100 L 280 280 Z" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Crust Edge -->
                    <path d="M 125 275 Q 200 110 275 275" fill="none" stroke="#000" stroke-width="12" stroke-linecap="round" class="paint-area" data-number="2"/>
                    <!-- Pepperoni 1 -->
                    <circle cx="180" cy="200" r="18" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Pepperoni 2 -->
                    <circle cx="220" cy="180" r="18" class="paint-area" data-number="4" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Pepperoni 3 -->
                    <circle cx="200" cy="240" r="18" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Mushroom 1 -->
                    <ellipse cx="160" cy="230" rx="15" ry="10" class="paint-area" data-number="6" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Mushroom 2 -->
                    <ellipse cx="230" cy="220" rx="15" ry="10" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Cheese Drip -->
                    <path d="M 140 265 Q 145 270 140 275" fill="#fff" stroke="#000" stroke-width="2" class="paint-area" data-number="8"/>
                    
                    <!-- Number labels -->
                    <text x="195" y="200" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="195" y="130" font-size="18" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="177" y="203" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="217" y="183" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="197" y="243" font-size="16" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="157" y="233" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="227" y="223" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="137" y="273" font-size="12" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                </g>
            `,
            balloon: `
                <g id="balloon">
                    <!-- Left Balloon -->
                    <ellipse cx="160" cy="140" rx="50" ry="70" class="paint-area" data-number="1" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Left Balloon Tie -->
                    <path d="M 160 210 Q 165 225 163 235" fill="none" stroke="#000" stroke-width="3" class="paint-area" data-number="2"/>
                    <!-- Left Balloon Knot -->
                    <rect x="158" y="235" width="10" height="8" rx="3" class="paint-area" data-number="3" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Left String -->
                    <line x1="163" y1="243" x2="140" y2="320" stroke="#000" stroke-width="2" class="paint-area" data-number="4"/>
                    <!-- Right Balloon -->
                    <ellipse cx="240" cy="170" rx="45" ry="65" class="paint-area" data-number="5" fill="#fff" stroke="#000" stroke-width="3"/>
                    <!-- Right Balloon Tie -->
                    <path d="M 240 235 Q 243 248 241 256" fill="none" stroke="#000" stroke-width="3" class="paint-area" data-number="6"/>
                    <!-- Right Balloon Knot -->
                    <rect x="236" y="256" width="10" height="8" rx="3" class="paint-area" data-number="7" fill="#fff" stroke="#000" stroke-width="2"/>
                    <!-- Right String -->
                    <line x1="241" y1="264" x2="200" y2="320" stroke="#000" stroke-width="2" class="paint-area" data-number="8"/>
                    <!-- Left Highlight -->
                    <path d="M 145 120 Q 150 115 155 120" fill="none" stroke="#fff" stroke-width="4" opacity="0.7"/>
                    <!-- Right Highlight -->
                    <path d="M 225 150 Q 230 145 235 150" fill="none" stroke="#fff" stroke-width="4" opacity="0.7"/>
                    <!-- Stars -->
                    <text x="120" y="110" font-size="20">✨</text>
                    <text x="260" y="140" font-size="20">✨</text>
                    <text x="190" y="100" font-size="20">⭐</text>
                    
                    <!-- Number labels -->
                    <text x="155" y="150" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">1</text>
                    <text x="160" y="225" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">2</text>
                    <text x="160" y="242" font-size="10" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">3</text>
                    <text x="148" y="285" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">4</text>
                    <text x="235" y="180" font-size="24" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">5</text>
                    <text x="238" y="250" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">6</text>
                    <text x="238" y="263" font-size="10" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">7</text>
                    <text x="205" y="295" font-size="14" font-weight="bold" fill="#000" stroke="#fff" stroke-width="1">8</text>
                </g>
            `
        };
        
        const pictureTitles = {
            butterfly: '🦋 Butterfly',
            house: '🏠 House',
            flower: '🌸 Flower',
            car: '🚗 Car',
            fish: '🐟 Fish',
            tree: '🌳 Tree',
            robot: '🤖 Robot',
            rocket: '🚀 Rocket',
            castle: '🏰 Castle',
            boat: '⛵ Boat',
            sun: '☀️ Sun',
            owl: '🦉 Owl',
            rainbow: '🌈 Rainbow',
            cat: '🐱 Cat',
            pizza: '🍕 Pizza',
            balloon: '🎈 Balloons'
        };
        
        // Color configuration for each picture - colors match the number of areas
        const pictureColors = {
            butterfly: [
                { number: 1, color: '#FF6B6B', name: 'Coral Red' },
                { number: 2, color: '#4ECDC4', name: 'Teal' },
                { number: 3, color: '#FFE66D', name: 'Yellow' },
                { number: 4, color: '#95E1D3', name: 'Mint' },
                { number: 5, color: '#8B4513', name: 'Brown' },
                { number: 6, color: '#FF69B4', name: 'Pink' }
            ],
            house: [
                { number: 1, color: '#D2691E', name: 'Roof Brown' },
                { number: 2, color: '#FFE4B5', name: 'Wall Beige' },
                { number: 3, color: '#8B4513', name: 'Door Brown' },
                { number: 4, color: '#87CEEB', name: 'Window Blue' },
                { number: 5, color: '#87CEEB', name: 'Window Blue' },
                { number: 6, color: '#A0522D', name: 'Chimney' },
                { number: 7, color: '#FFD700', name: 'Gold Knob' },
                { number: 8, color: '#228B22', name: 'Green Ground' }
            ],
            flower: [
                { number: 1, color: '#FFD700', name: 'Yellow Center' },
                { number: 2, color: '#FF69B4', name: 'Pink Petal' },
                { number: 3, color: '#FF1493', name: 'Deep Pink' },
                { number: 4, color: '#FF6B6B', name: 'Coral Petal' },
                { number: 5, color: '#FF4500', name: 'Orange Petal' },
                { number: 6, color: '#228B22', name: 'Green Stem' }
            ],
            car: [
                { number: 1, color: '#FF0000', name: 'Red Body' },
                { number: 2, color: '#FF4444', name: 'Red Roof' },
                { number: 3, color: '#87CEEB', name: 'Window' },
                { number: 4, color: '#87CEEB', name: 'Window' },
                { number: 5, color: '#333333', name: 'Black Wheel' },
                { number: 6, color: '#333333', name: 'Black Wheel' },
                { number: 7, color: '#FFFF00', name: 'Headlight' }
            ],
            fish: [
                { number: 1, color: '#FFA500', name: 'Orange Body' },
                { number: 2, color: '#FF6347', name: 'Red Tail' },
                { number: 3, color: '#FFD700', name: 'Top Fin' },
                { number: 4, color: '#FFD700', name: 'Bottom Fin' },
                { number: 5, color: '#FF69B4', name: 'Pink Mouth' }
            ],
            tree: [
                { number: 1, color: '#228B22', name: 'Green Top' },
                { number: 2, color: '#32CD32', name: 'Light Green' },
                { number: 3, color: '#228B22', name: 'Green Right' },
                { number: 4, color: '#8B4513', name: 'Brown Trunk' }
            ],
            robot: [
                { number: 1, color: '#A9A9A9', name: 'Silver Head' },
                { number: 2, color: '#00CED1', name: 'Cyan Eye' },
                { number: 3, color: '#00CED1', name: 'Cyan Eye' },
                { number: 4, color: '#FFD700', name: 'Gold Antenna' },
                { number: 5, color: '#FF0000', name: 'Red Light' },
                { number: 6, color: '#333333', name: 'Black Mouth' },
                { number: 7, color: '#708090', name: 'Slate Body' },
                { number: 8, color: '#4169E1', name: 'Blue Arm' },
                { number: 9, color: '#4169E1', name: 'Blue Arm' },
                { number: 10, color: '#2F4F4F', name: 'Dark Leg' },
                { number: 11, color: '#2F4F4F', name: 'Dark Leg' },
                { number: 12, color: '#32CD32', name: 'Green Panel' }
            ],
            rocket: [
                { number: 1, color: '#FF0000', name: 'Red Nose' },
                { number: 2, color: '#FFFFFF', name: 'White Body' },
                { number: 3, color: '#00BFFF', name: 'Blue Window' },
                { number: 4, color: '#FF4500', name: 'Orange Fin' },
                { number: 5, color: '#FF4500', name: 'Orange Fin' },
                { number: 6, color: '#A9A9A9', name: 'Gray Base' },
                { number: 7, color: '#FFA500', name: 'Orange Flame' },
                { number: 8, color: '#FFD700', name: 'Yellow Flame' },
                { number: 9, color: '#FFA500', name: 'Orange Flame' },
                { number: 10, color: '#0000FF', name: 'Blue Stripe' }
            ],
            castle: [
                { number: 1, color: '#D2B48C', name: 'Tan Tower' },
                { number: 2, color: '#D2B48C', name: 'Tan Tower' },
                { number: 3, color: '#DEB887', name: 'Building' },
                { number: 4, color: '#8B4513', name: 'Brown Top' },
                { number: 5, color: '#8B4513', name: 'Brown Top' },
                { number: 6, color: '#8B4513', name: 'Brown Top' },
                { number: 7, color: '#8B4513', name: 'Brown Top' },
                { number: 8, color: '#B22222', name: 'Red Roof' },
                { number: 9, color: '#654321', name: 'Dark Door' },
                { number: 10, color: '#87CEEB', name: 'Blue Window' },
                { number: 11, color: '#87CEEB', name: 'Blue Window' }
            ],
            boat: [
                { number: 1, color: '#8B4513', name: 'Brown Hull' },
                { number: 2, color: '#D2691E', name: 'Tan Deck' },
                { number: 3, color: '#654321', name: 'Dark Mast' },
                { number: 4, color: '#FFFFFF', name: 'White Sail' },
                { number: 5, color: '#FFF5EE', name: 'Light Sail' },
                { number: 6, color: '#1E90FF', name: 'Blue Port' },
                { number: 7, color: '#1E90FF', name: 'Blue Port' },
                { number: 8, color: '#4682B4', name: 'Steel Water' },
                { number: 9, color: '#FF0000', name: 'Red Flag' }
            ],
            sun: [
                { number: 1, color: '#FFD700', name: 'Gold Center' },
                { number: 2, color: '#FFA500', name: 'Orange Ray' },
                { number: 3, color: '#FFA500', name: 'Orange Ray' },
                { number: 4, color: '#FFA500', name: 'Orange Ray' },
                { number: 5, color: '#FFA500', name: 'Orange Ray' },
                { number: 6, color: '#FFFF00', name: 'Yellow Ray' },
                { number: 7, color: '#FFFF00', name: 'Yellow Ray' },
                { number: 8, color: '#FFFF00', name: 'Yellow Ray' },
                { number: 9, color: '#FFFF00', name: 'Yellow Ray' }
            ],
            owl: [
                { number: 1, color: '#8B4513', name: 'Brown Body' },
                { number: 2, color: '#FFFFE0', name: 'Light Eye' },
                { number: 3, color: '#FFFFE0', name: 'Light Eye' },
                { number: 4, color: '#000000', name: 'Black Pupil' },
                { number: 5, color: '#000000', name: 'Black Pupil' },
                { number: 6, color: '#FFA500', name: 'Orange Beak' },
                { number: 7, color: '#D2691E', name: 'Tan Wing' },
                { number: 8, color: '#D2691E', name: 'Tan Wing' },
                { number: 9, color: '#A0522D', name: 'Brown Tuft' },
                { number: 10, color: '#A0522D', name: 'Brown Tuft' }
            ],
            rainbow: [
                { number: 1, color: '#FF0000', name: 'Red Arc' },
                { number: 2, color: '#FFA500', name: 'Orange Arc' },
                { number: 3, color: '#FFFF00', name: 'Yellow Arc' },
                { number: 4, color: '#00FF00', name: 'Green Arc' },
                { number: 5, color: '#0000FF', name: 'Blue Arc' },
                { number: 6, color: '#800080', name: 'Purple Arc' },
                { number: 7, color: '#FFFFFF', name: 'White Cloud' },
                { number: 8, color: '#F0F0F0', name: 'Light Cloud' }
            ],
            cat: [
                { number: 1, color: '#FFA500', name: 'Orange Body' },
                { number: 2, color: '#FFB347', name: 'Light Orange' },
                { number: 3, color: '#FF8C00', name: 'Dark Orange' },
                { number: 4, color: '#FF8C00', name: 'Dark Orange' },
                { number: 5, color: '#32CD32', name: 'Green Eye' },
                { number: 6, color: '#32CD32', name: 'Green Eye' },
                { number: 7, color: '#FF69B4', name: 'Pink Nose' },
                { number: 8, color: '#FFB6C1', name: 'Light Pink' },
                { number: 9, color: '#FFB6C1', name: 'Light Pink' },
                { number: 10, color: '#D2691E', name: 'Brown Tail' },
                { number: 11, color: '#FFDAB9', name: 'Peach Paw' },
                { number: 12, color: '#FFDAB9', name: 'Peach Paw' }
            ],
            pizza: [
                { number: 1, color: '#FFD700', name: 'Gold Cheese' },
                { number: 2, color: '#D2691E', name: 'Brown Crust' },
                { number: 3, color: '#FF0000', name: 'Red Pepperoni' },
                { number: 4, color: '#FF0000', name: 'Red Pepperoni' },
                { number: 5, color: '#FF0000', name: 'Red Pepperoni' },
                { number: 6, color: '#F5F5DC', name: 'Beige Mushroom' },
                { number: 7, color: '#F5F5DC', name: 'Beige Mushroom' },
                { number: 8, color: '#FFFACD', name: 'Yellow Cheese' }
            ],
            balloon: [
                { number: 1, color: '#FF0000', name: 'Red Balloon' },
                { number: 2, color: '#B22222', name: 'Dark Red Tie' },
                { number: 3, color: '#8B0000', name: 'Knot' },
                { number: 4, color: '#808080', name: 'Gray String' },
                { number: 5, color: '#0000FF', name: 'Blue Balloon' },
                { number: 6, color: '#00008B', name: 'Dark Blue Tie' },
                { number: 7, color: '#000080', name: 'Navy Knot' },
                { number: 8, color: '#808080', name: 'Gray String' }
            ]
        };
        
        function selectPicture(pictureName) {
            currentPicture = pictureName;
            
            // Hide selection, show painting area
            document.getElementById('picture-selection').style.display = 'none';
            document.getElementById('painting-area').style.display = 'block';
            
            // Update title
            document.getElementById('current-picture-title').textContent = pictureTitles[pictureName];
            
            // Load SVG
            document.getElementById('paint-canvas').innerHTML = svgTemplates[pictureName];
            
            // Generate dynamic color palette based on picture's areas
            generateColorPalette(pictureName);
            
            // Reset painting state
            paintedAreas.clear();
            selectedColor = null;
            selectedNumber = null;
            
            // Re-initialize paint areas
            initializePaintAreas();
        }
        
        function generateColorPalette(pictureName) {
            const colors = pictureColors[pictureName];
            const paletteContainer = document.getElementById('color-palette');
            
            // Clear existing palette
            paletteContainer.innerHTML = '';
            
            // Add info about number of colors
            const infoDiv = document.createElement('div');
            infoDiv.className = 'palette-info';
            infoDiv.innerHTML = `🎨 This picture has <strong>${colors.length} colors</strong> to paint!`;
            infoDiv.style.width = '100%';
            infoDiv.style.marginBottom = '15px';
            paletteContainer.appendChild(infoDiv);
            
            // Generate buttons for each color
            colors.forEach(colorInfo => {
                const button = document.createElement('button');
                button.className = 'palette-color';
                button.setAttribute('data-number', colorInfo.number);
                button.setAttribute('data-color', colorInfo.color);
                button.style.background = colorInfo.color;
                button.textContent = colorInfo.number;
                button.title = colorInfo.name;
                
                // Adjust text color for better visibility on light backgrounds
                const lightColors = ['#FFFFFF', '#FFFF00', '#FFD700', '#FFFFE0', '#F5F5DC', '#FFFACD', '#FFF5EE', '#FFDAB9', '#FFE4B5', '#F0F0F0', '#FFB6C1', '#95E1D3', '#FFE66D'];
                if (lightColors.includes(colorInfo.color.toUpperCase()) || colorInfo.color.toUpperCase() === '#FFFFFF') {
                    button.style.color = '#333';
                    button.style.textShadow = 'none';
                } else {
                    button.style.color = '#fff';
                    button.style.textShadow = '1px 1px 2px rgba(0,0,0,0.5)';
                }
                
                // Add click handler
                button.addEventListener('click', function() {
                    selectPaletteColor(this);
                });
                
                paletteContainer.appendChild(button);
            });
        }
        
        function backToSelection() {
            document.getElementById('picture-selection').style.display = 'block';
            document.getElementById('painting-area').style.display = 'none';
            document.getElementById('paint-feedback').textContent = '';
        }
        
        function initializePaintAreas() {
            document.querySelectorAll('.paint-area').forEach(area => {
                area.addEventListener('click', function() {
                    paintArea(this);
                });
                
                area.addEventListener('mouseenter', function() {
                    if (this.getAttribute('fill') === '#fff') {
                        this.style.opacity = '0.7';
                    }
                });
                
                area.addEventListener('mouseleave', function() {
                    this.style.opacity = '1';
                });
            });
        }
        
        function selectPaletteColor(button) {
            // Remove selection from all palette colors
            document.querySelectorAll('.palette-color').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Select this color
            button.classList.add('selected');
            selectedColor = button.getAttribute('data-color');
            selectedNumber = button.getAttribute('data-number');
        }
        
        function paintArea(area) {
            if (!selectedColor || !selectedNumber) {
                const feedback = document.getElementById('paint-feedback');
                feedback.textContent = '👆 First select a color from the palette above!';
                feedback.className = 'game-feedback';
                setTimeout(() => feedback.textContent = '', 2000);
                return;
            }
            
            const areaNumber = area.getAttribute('data-number');
            
            if (areaNumber === selectedNumber) {
                // Correct number - paint it!
                area.setAttribute('fill', selectedColor);
                paintedAreas.add(areaNumber);
                
                // Play success sound
                playPaintSound();
                
                // Show feedback
                const feedback = document.getElementById('paint-feedback');
                feedback.textContent = '🎨 Great! Keep painting!';
                feedback.className = 'game-feedback correct';
                setTimeout(() => feedback.textContent = '', 1500);
            } else {
                // Wrong number
                const feedback = document.getElementById('paint-feedback');
                feedback.textContent = `❌ That's area ${areaNumber}, but you selected color ${selectedNumber}!`;
                feedback.className = 'game-feedback wrong';
                setTimeout(() => feedback.textContent = '', 2000);
            }
        }
        
        function resetPainting() {
            document.querySelectorAll('.paint-area').forEach(area => {
                area.setAttribute('fill', '#fff');
            });
            paintedAreas.clear();
            
            const feedback = document.getElementById('paint-feedback');
            feedback.textContent = '🔄 Canvas reset! Start painting again!';
            feedback.className = 'game-feedback';
            setTimeout(() => feedback.textContent = '', 2000);
        }
        
        function checkCompletion() {
            const totalAreas = document.querySelectorAll('.paint-area').length;
            const feedback = document.getElementById('paint-feedback');
            
            if (paintedAreas.size === totalAreas) {
                feedback.textContent = '🎉 Amazing! You completed the butterfly! 🦋';
                feedback.className = 'game-feedback correct';
                createCelebration();
                playSuccessSound();
            } else {
                feedback.textContent = `You painted ${paintedAreas.size} out of ${totalAreas} areas. Keep going! 💪`;
                feedback.className = 'game-feedback';
            }
        }
        
        function playPaintSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 800;
            osc.type = 'sine';
            
            gain.gain.setValueAtTime(0.15, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.1);
        }
        
        function playSuccessSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Play happy ascending notes
            [523, 659, 784, 1047].forEach((freq, i) => {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                
                osc.connect(gain);
                gain.connect(audioContext.destination);
                
                osc.frequency.value = freq;
                osc.type = 'sine';
                
                const startTime = audioContext.currentTime + (i * 0.1);
                gain.gain.setValueAtTime(0.2, startTime);
                gain.gain.exponentialRampToValueAtTime(0.01, startTime + 0.3);
                
                osc.start(startTime);
                osc.stop(startTime + 0.3);
            });
        }
        
        function playPuzzleCorrectSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = 800;
            osc.type = 'sine';
            
            gain.gain.setValueAtTime(0.2, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + 0.2);
        }
        
        function createCelebration() {
            const feedback = document.getElementById('paint-feedback');
            const prizeEmojis = ['⭐', '🌟', '✨', '🎉', '🎊', '🏆', '🦋', '🎨', '🌈', '💎', '👑'];
            
            for (let i = 0; i < 20; i++) {
                const star = document.createElement('div');
                star.textContent = prizeEmojis[Math.floor(Math.random() * prizeEmojis.length)];
                star.className = 'celebration-star';
                star.style.left = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 0.3 + 's';
                feedback.appendChild(star);
                
                setTimeout(() => star.remove(), 2000);
            }
        }
        
        // Initialize paint by numbers
        document.addEventListener('DOMContentLoaded', function() {
            // Add click handlers to palette colors
            document.querySelectorAll('.palette-color').forEach(button => {
                button.addEventListener('click', function() {
                    selectPaletteColor(this);
                });
            });
            
            // Add click handlers to paint areas
            document.querySelectorAll('.paint-area').forEach(area => {
                area.addEventListener('click', function() {
                    paintArea(this);
                });
                
                // Add hover effect
                area.addEventListener('mouseenter', function() {
                    if (this.getAttribute('fill') === '#fff') {
                        this.style.opacity = '0.7';
                    }
                });
                
                area.addEventListener('mouseleave', function() {
                    this.style.opacity = '1';
                });
            });
        });
        // Animal options for each Arabic letter
        const arabicAnimals = {
            'أ': [
                { emoji: '🐰', name: 'أرنب' },
                { emoji: '🦁', name: 'أسد' },
                { emoji: '🐟', name: 'أسماك' }
            ],
            'ب': [
                { emoji: '🦆', name: 'بطة' },
                { emoji: '🐄', name: 'بقرة' },
                { emoji: '🦉', name: 'بومة' },
                { emoji: '🦜', name: 'ببغاء' }
            ],
            'ت': [
                { emoji: '🐊', name: 'تمساح' },
                { emoji: '🐉', name: 'تنين' }
            ],
            'ث': [
                { emoji: '🦊', name: 'ثعلب' },
                { emoji: '🐍', name: 'ثعبان' },
                { emoji: '🐂', name: 'ثور' }
            ],
            'ج': [
                { emoji: '🐪', name: 'جمل' },
                { emoji: '🦘', name: 'جرذ' },
                { emoji: '🐃', name: 'جاموس' }
            ],
            'ح': [
                { emoji: '🐴', name: 'حصان' },
                { emoji: '🐋', name: 'حوت' },
                { emoji: '🐌', name: 'حلزون' },
                { emoji: '🕊️', name: 'حمامة' }
            ],
            'خ': [
                { emoji: '🐑', name: 'خروف' },
                { emoji: '🐗', name: 'خنزير' },
                { emoji: '🦏', name: 'خرتيت' }
            ],
            'د': [
                { emoji: '🐻', name: 'دب' },
                { emoji: '🐓', name: 'ديك' },
                { emoji: '🐬', name: 'دولفين' }
            ],
            'ر': [
                { emoji: '🦌', name: 'رنة' },
                { emoji: '🦃', name: 'ديك رومي' }
            ],
            'ز': [
                { emoji: '🦒', name: 'زرافة' },
                { emoji: '🦓', name: 'حمار وحشي' }
            ],
            'س': [
                { emoji: '🐟', name: 'سمكة' },
                { emoji: '🐢', name: 'سلحفاة' },
                { emoji: '🦎', name: 'سحلية' },
                { emoji: '🦈', name: 'سمك القرش' }
            ],
            'ش': [
                { emoji: '🐝', name: 'نحلة' },
                { emoji: '🦔', name: 'قنفذ' }
            ],
            'ص': [
                { emoji: '🦅', name: 'صقر' },
                { emoji: '🐓', name: 'صوص' }
            ],
            'ض': [
                { emoji: '🐸', name: 'ضفدع' },
                { emoji: '🦎', name: 'ضب' }
            ],
            'ط': [
                { emoji: '🦚', name: 'طاووس' },
                { emoji: '🐦', name: 'طائر' }
            ],
            'ظ': [
                { emoji: '🦌', name: 'ظبي' },
                { emoji: '🦙', name: 'غزال' }
            ],
            'ع': [
                { emoji: '🐦', name: 'عصفور' },
                { emoji: '🦅', name: 'عقاب' },
                { emoji: '🕷️', name: 'عنكبوت' }
            ],
            'غ': [
                { emoji: '🐦‍⬛', name: 'غراب' },
                { emoji: '🦌', name: 'غزال' },
                { emoji: '🦍', name: 'غوريلا' }
            ],
            'ف': [
                { emoji: '🐘', name: 'فيل' },
                { emoji: '🦛', name: 'فرس النهر' },
                { emoji: '🐆', name: 'فهد' },
                { emoji: '🦋', name: 'فراشة' }
            ],
            'ق': [
                { emoji: '🐱', name: 'قطة' },
                { emoji: '🦔', name: 'قنفذ' },
                { emoji: '🐵', name: 'قرد' },
                { emoji: '🦫', name: 'قندس' }
            ],
            'ك': [
                { emoji: '🐕', name: 'كلب' },
                { emoji: '🦘', name: 'كنغر' },
                { emoji: '🐨', name: 'كوالا' }
            ],
            'ل': [
                { emoji: '🦁', name: 'أسد' },
                { emoji: '🦙', name: 'لاما' }
            ],
            'م': [
                { emoji: '🐐', name: 'ماعز' },
                { emoji: '🦣', name: 'ماموث' }
            ],
            'ن': [
                { emoji: '🐯', name: 'نمر' },
                { emoji: '🦅', name: 'نسر' },
                { emoji: '🐝', name: 'نحلة' },
                { emoji: '🦔', name: 'نيص' }
            ],
            'ه': [
                { emoji: '🐹', name: 'همستر' },
                { emoji: '🦔', name: 'هدهد' },
                { emoji: '🐆', name: 'هر' }
            ],
            'و': [
                { emoji: '🦌', name: 'وعل' },
                { emoji: '🦆', name: 'وز' },
                { emoji: '🐺', name: 'وشق' }
            ],
            'ي': [
                { emoji: '🐛', name: 'يرقة' },
                { emoji: '🦎', name: 'يحمور' },
                { emoji: '🪲', name: 'يعسوب' }
            ]
        };

        // Animal options for each English letter
        const englishAnimals = {
            'a': [
                { emoji: '🐊', name: 'Alligator' },
                { emoji: '🐜', name: 'Ant' },
                { emoji: '🐻', name: 'Animal' }
            ],
            'b': [
                { emoji: '🦋', name: 'Butterfly' },
                { emoji: '🐻', name: 'Bear' },
                { emoji: '🐝', name: 'Bee' },
                { emoji: '🐦', name: 'Bird' },
                { emoji: '🦬', name: 'Buffalo' }
            ],
            'c': [
                { emoji: '🐱', name: 'Cat' },
                { emoji: '🐄', name: 'Cow' },
                { emoji: '🐊', name: 'Crocodile' },
                { emoji: '🦀', name: 'Crab' },
                { emoji: '🐪', name: 'Camel' }
            ],
            'd': [
                { emoji: '🐕', name: 'Dog' },
                { emoji: '🦆', name: 'Duck' },
                { emoji: '🐬', name: 'Dolphin' },
                { emoji: '🦌', name: 'Deer' }
            ],
            'e': [
                { emoji: '🐘', name: 'Elephant' },
                { emoji: '🦅', name: 'Eagle' }
            ],
            'f': [
                { emoji: '🐟', name: 'Fish' },
                { emoji: '🦊', name: 'Fox' },
                { emoji: '🐸', name: 'Frog' }
            ],
            'g': [
                { emoji: '🐐', name: 'Goat' },
                { emoji: '🦒', name: 'Giraffe' },
                { emoji: '🦍', name: 'Gorilla' }
            ],
            'h': [
                { emoji: '🐴', name: 'Horse' },
                { emoji: '🦛', name: 'Hippo' },
                { emoji: '🦔', name: 'Hedgehog' },
                { emoji: '🐹', name: 'Hamster' }
            ],
            'i': [
                { emoji: '🦎', name: 'Iguana' },
                { emoji: '🐛', name: 'Insect' }
            ],
            'j': [
                { emoji: '🪼', name: 'Jellyfish' },
                { emoji: '🐆', name: 'Jaguar' }
            ],
            'k': [
                { emoji: '🐨', name: 'Koala' },
                { emoji: '🦘', name: 'Kangaroo' }
            ],
            'l': [
                { emoji: '🦁', name: 'Lion' },
                { emoji: '🐆', name: 'Leopard' },
                { emoji: '🦎', name: 'Lizard' },
                { emoji: '🦙', name: 'Llama' }
            ],
            'm': [
                { emoji: '🐵', name: 'Monkey' },
                { emoji: '🐭', name: 'Mouse' },
                { emoji: '🦟', name: 'Mosquito' }
            ],
            'n': [
                { emoji: '🐳', name: 'Narwhal' }
            ],
            'o': [
                { emoji: '🦉', name: 'Owl' },
                { emoji: '🦦', name: 'Otter' },
                { emoji: '🐙', name: 'Octopus' }
            ],
            'p': [
                { emoji: '🐧', name: 'Penguin' },
                { emoji: '🐷', name: 'Pig' },
                { emoji: '🦜', name: 'Parrot' },
                { emoji: '🐼', name: 'Panda' }
            ],
            'q': [
                { emoji: '🐦', name: 'Quail' }
            ],
            'r': [
                { emoji: '🐰', name: 'Rabbit' },
                { emoji: '🦏', name: 'Rhino' },
                { emoji: '🐀', name: 'Rat' },
                { emoji: '🦝', name: 'Raccoon' }
            ],
            's': [
                { emoji: '🐍', name: 'Snake' },
                { emoji: '🐑', name: 'Sheep' },
                { emoji: '🦈', name: 'Shark' },
                { emoji: '🦥', name: 'Sloth' },
                { emoji: '🐚', name: 'Snail' }
            ],
            't': [
                { emoji: '🐯', name: 'Tiger' },
                { emoji: '🐢', name: 'Turtle' },
                { emoji: '🦃', name: 'Turkey' }
            ],
            'u': [
                { emoji: '🦄', name: 'Unicorn' }
            ],
            'v': [
                { emoji: '🦅', name: 'Vulture' }
            ],
            'w': [
                { emoji: '🐋', name: 'Whale' },
                { emoji: '🐺', name: 'Wolf' },
                { emoji: '🦏', name: 'Walrus' }
            ],
            'x': [
                { emoji: '🐠', name: 'X-ray Fish' }
            ],
            'y': [
                { emoji: '🐃', name: 'Yak' }
            ],
            'z': [
                { emoji: '🦓', name: 'Zebra' }
            ]
        };

        // Function to get random animal for a letter
        function getRandomAnimal(letter, language) {
            const animals = language === 'arabic' ? arabicAnimals[letter] : englishAnimals[letter];
            if (!animals || animals.length === 0) return null;
            return animals[Math.floor(Math.random() * animals.length)];
        }

        // Sound generation functions
        function playFlipSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        // Tab switching function
        function showTab(language) {
            const arabicContainer = document.getElementById('arabic-container');
            const englishContainer = document.getElementById('english-container');
            const numbersContainer = document.getElementById('numbers-container');
            const memoryContainer = document.getElementById('memory-container');
            const orderArabicContainer = document.getElementById('order-arabic-container');
            const orderEnglishContainer = document.getElementById('order-english-container');
            const countArabicContainer = document.getElementById('count-arabic-container');
            const countEnglishContainer = document.getElementById('count-english-container');
            const coinMathContainer = document.getElementById('coin-math-container');
            const lunchBoxContainer = document.getElementById('lunch-box-container');
            const mainMenu = document.getElementById('main-menu');
            const mainTitle = document.getElementById('main-title');
            const subtitle = document.getElementById('subtitle');
            const backBtn = document.getElementById('back-to-menu');
            
            // Hide main menu and show back button
            mainMenu.style.display = 'none';
            backBtn.classList.add('visible');
            mainTitle.style.display = 'block';
            subtitle.style.display = 'block';
            
            // Hide all containers
            arabicContainer.style.display = 'none';
            englishContainer.style.display = 'none';
            numbersContainer.style.display = 'none';
            memoryContainer.style.display = 'none';
            orderArabicContainer.style.display = 'none';
            orderEnglishContainer.style.display = 'none';
            countArabicContainer.style.display = 'none';
            countEnglishContainer.style.display = 'none';
            coinMathContainer.style.display = 'none';
            lunchBoxContainer.style.display = 'none';
            
            if (language === 'arabic') {
                arabicContainer.style.display = 'grid';
                mainTitle.textContent = '🌟 تعلم الحروف العربية 🌟';
                subtitle.textContent = 'اضغط على البطاقة لرؤية الحيوان!';
                document.body.style.direction = 'rtl';
            } else if (language === 'english') {
                englishContainer.style.display = 'grid';
                mainTitle.textContent = '🌟 Learn English Letters 🌟';
                subtitle.textContent = 'Click the card to see the animal!';
                document.body.style.direction = 'ltr';
            } else if (language === 'numbers') {
                numbersContainer.style.display = 'block';
                mainTitle.textContent = '🎨 Paint by Numbers - لون بالأرقام 🎨';
                subtitle.textContent = 'Click a number, then paint matching areas!';
                document.body.style.direction = 'ltr';
            } else if (language === 'memory') {
                memoryContainer.style.display = 'block';
                mainTitle.textContent = '';
                subtitle.textContent = '';
                document.body.style.direction = 'ltr';
            } else if (language === 'order-arabic') {
                orderArabicContainer.style.display = 'block';
                mainTitle.textContent = '🔢 رتب الأرقام العربية 🔢';
                subtitle.textContent = 'اسحب الأرقام لترتيبها من ١ إلى ١٠';
                document.body.style.direction = 'rtl';
                initializeArabicOrdering();
            } else if (language === 'order-english') {
                orderEnglishContainer.style.display = 'block';
                mainTitle.textContent = '🔢 Order the Numbers 🔢';
                subtitle.textContent = 'Drag numbers from 1 to 10 in order';
                document.body.style.direction = 'ltr';
                initializeEnglishOrdering();
            } else if (language === 'count-arabic') {
                countArabicContainer.style.display = 'block';
                mainTitle.textContent = '🍎 عد الفواكه والخضروات 🥕';
                subtitle.textContent = 'كم عدد الفواكه أو الخضروات؟ اختر الرقم الصحيح!';
                document.body.style.direction = 'rtl';
                generateArabicCounting();
            } else if (language === 'count-english') {
                countEnglishContainer.style.display = 'block';
                mainTitle.textContent = '🍎 Count Fruits and Vegetables 🥕';
                subtitle.textContent = 'How many fruits or vegetables? Choose the correct number!';
                document.body.style.direction = 'ltr';
                generateEnglishCounting();
            } else if (language === 'coin-math') {
                coinMathContainer.style.display = 'block';
                mainTitle.textContent = '';
                subtitle.textContent = '';
                document.body.style.direction = 'ltr';
                
                // Select random bank if not already selected
                if (!currentBankShape) {
                    selectRandomBank();
                }
                generateCoinProblem();
            } else if (language === 'lunch-box') {
                lunchBoxContainer.style.display = 'block';
                mainTitle.textContent = '🍱 Pack Your Healthy Lunch Box - حقيبة الغداء الصحية 🍱';
                subtitle.textContent = '';
                document.body.style.direction = 'ltr';
                initializeLunchBoxGame();
            }
        }
        
        function backToMainMenu() {
            // Hide all game containers
            document.getElementById('arabic-container').style.display = 'none';
            document.getElementById('english-container').style.display = 'none';
            document.getElementById('numbers-container').style.display = 'none';
            document.getElementById('memory-container').style.display = 'none';
            document.getElementById('order-arabic-container').style.display = 'none';
            document.getElementById('order-english-container').style.display = 'none';
            document.getElementById('count-arabic-container').style.display = 'none';
            document.getElementById('count-english-container').style.display = 'none';
            document.getElementById('coin-math-container').style.display = 'none';
            document.getElementById('lunch-box-container').style.display = 'none';
            
            // Show main menu and hide back button
            document.getElementById('main-menu').style.display = 'block';
            document.getElementById('back-to-menu').classList.remove('visible');
            document.getElementById('main-title').style.display = 'none';
            document.getElementById('subtitle').style.display = 'none';
            document.body.style.direction = 'ltr';
        }

        // Add sound effect on flip (optional - using beep)
        document.addEventListener('DOMContentLoaded', function() {
            // Add data attributes to all cards
            const allCards = document.querySelectorAll('.card');
            
            // Setup Arabic cards
            const arabicLetters = ['أ', 'ب', 'ت', 'ث', 'ج', 'ح', 'خ', 'د', 'ر', 'ز', 'س', 'ش', 'ص', 'ض', 'ط', 'ظ', 'ع', 'غ', 'ف', 'ق', 'ك', 'ل', 'م', 'ن', 'ه', 'و', 'ي'];
            const arabicCards = document.querySelectorAll('#arabic-container .card');
            arabicCards.forEach((card, index) => {
                if (index < arabicLetters.length) {
                    card.setAttribute('data-letter', arabicLetters[index]);
                    card.setAttribute('data-language', 'arabic');
                }
            });
            
            // Setup English cards
            const englishLetters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
            const englishCards = document.querySelectorAll('#english-container .card');
            englishCards.forEach((card, index) => {
                if (index < englishLetters.length) {
                    card.setAttribute('data-letter', englishLetters[index]);
                    card.setAttribute('data-language', 'english');
                }
            });
            
            // Add click handler to all cards
            allCards.forEach(card => {
                card.addEventListener('click', function() {
                    const letter = this.getAttribute('data-letter');
                    const language = this.getAttribute('data-language');
                    const isFlipped = this.classList.contains('flipped');
                    let animal = null;
                    
                    if (!isFlipped) {
                        // Flipping to show animal - randomize it
                        animal = getRandomAnimal(letter, language);
                        if (animal) {
                            const emojiDiv = this.querySelector('.animal-emoji');
                            const nameDiv = this.querySelector('.animal-name');
                            if (emojiDiv && nameDiv) {
                                emojiDiv.textContent = animal.emoji;
                                nameDiv.textContent = animal.name;
                            }
                        }
                    }
                    
                    // Toggle flip
                    this.classList.toggle('flipped');
                    
                    // Play flip sound
                    playFlipSound();
                });
            });
        });
    </script>
</body>
</html>